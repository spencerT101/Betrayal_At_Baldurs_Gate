(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon",14,15,16,17,18,140,"PinRepEditButtonCommon"],{"+zF7":function(e,t,n){var i=n("LqyK"),r=n("x12c"),o=n("eOdZ"),a=n("G35+"),s=n("dwea"),c=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const r={success:function(i){const r={network:e,data:i};this._internalConnectNetwork(t,r,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){o.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;c.default.set(n),r.a.instance.publish("currentUser","socialNetworkUpdated",n)})},_externalConnectNetwork(e,t,n){t?a.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case a.a.FACEBOOK:t="UserFacebookFriendsResource";break;case a.a.TWITTER:t="UserTwitterFriendsResource";break;case a.a.GOOGLE:t="UserGmailFriendsResource";break;case a.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.a.create(i,n);r.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(r)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"/WHw":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),r=n("/MKj"),o=n("JW66"),a=n("Ye/N"),s=n("5FNA"),c=n("Wer7"),l=n("vvax"),d=n("ANjH"),u=n("oN2T"),h=n("c50B"),p=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),b(this,"state",{createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(h.p)({message:a.a._("Don't forget to name your board!")}),Object(h.j)({max:o.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(l.b)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:o.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.PROTECTED,saving:!1}),b(this,"invalidateResource",e=>{const{dispatch:t,viewer:n}=this.props;t(Object(c.f)("BoardsResource",Object(s.a)(n.isAuth?n.username:"",e===o.a.BoardPrivacy.SECRET)))}),b(this,"createBoard",e=>{const{dispatch:t,viewer:n}=this.props;return t(Object(u.g)(e,{isFBC:n.isAuth&&0===n.boardCount}))}),b(this,"handleChangeName",(e,t)=>{const n=Object(h.s)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),b(this,"handleChangePrivacy",()=>{const e=this.state.privacy===o.a.BoardPrivacy.SECRET?o.a.BoardPrivacy.PUBLIC:o.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),b(this,"handleCreate",()=>{const{inputName:e,privacy:t}=this.state,{isAdAccountOwner:n,onCreate:i,advertiser_id:r}=this.props,o={privacy:t,name:e,...!n&&r?{advertiser_id:r}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(o).then(e=>{this.setState({saving:!1}),i(e)}).catch(e=>{let t=a.a._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}this.setState({saving:!1,createBoardError:t})}),this.invalidateResource(t)})}render(){return Object(p.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}},b(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function f({advertiser:e,viewer:t}){const n=!e||t.isAuth&&e.owner_user_id===t.id,i=e&&e.id;return{isAdAccountOwner:n,...i?{advertiser_id:i}:{},viewer:t}}function g(e){return{dispatch:e}}function j(e){return Object(d.compose)(Object(r.connect)(f,g),m)(e)}},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"/zJj":function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return h}));const i=508,r=2*i,o=488,a=2*o,s=40,c=72,l=740,d=60,u=912,h={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("VBRM"),r=n("YWqT"),o=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(o.a)(-t,n),a=new Date;return!Object(r.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,o=new Date,a=n?new Date(n):o,s=Object(i.a)(a,t);return Object(r.a)(s,o)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0nTG":function(e,t,n){n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return j}));var i=n("mwIZ"),r=n.n(i),o=n("6/Sz"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,h=e=>e.is_stale_product,p=e=>u(e)||h(e),b=e=>{const t=r()(e,"link_domain.official_user.full_name");if(t)return t;const n=r()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=r()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},m=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function f(e,t={}){var n,i,r,s,c,l;const d=m(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=Object(o.a)(e);var h;if(t)u.image_count=null===(h=t.carousel_slots)||void 0===h?void 0:h.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(r=i[0])&&void 0!==r&&r.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const j=(e,t={})=>{if(e){return g(f(e,t))}return null}},"1+5i":function(e,t,n){var i=n("w/wX"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?r(a):i;e.exports=s},"1Nkp":function(e,t,n){var i=n("kmwA"),r=n("28DW");const o={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>(Object(r.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(r.a)("unauth_web.init_google.sdk."+e)};t.a=(e=o)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>a(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>a(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"1inl":function(e,t,n){var i=n("Te9D"),r=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=r()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)},t.a=o},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const r=i.indexOf(t);if(r>=0)for(let o=r+1;o<i.length;o+=1){const t=e[i[o]];if(t)return t}return e["236x"]}},"2qKt":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("Y+p1"),a=n.n(o),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),d=n("ANjH"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>o=>{const b=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...p,...n};const m=function(e,t,n=!0,r=!0,o=!1,l){var d,p;return p=d=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:r,experience:o}=this.props;let c=i.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&!a()(c,l)&&r(Object(s.c)(e,l)),!o||n.experience&&o.id===n.experience.id||r(Object(s.k)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},r=o&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,r))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[o?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(l,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(d,"displayName",`withPlacement(${l.displayName||l.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,o);return Object(d.compose)(l.e,Object(r.connect)(b))(m)}},"3Qy3":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"44Ds":function(e,t,n){var i=n("e4Nc");function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},"4cTg":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n("q1tI"),r=n("dKiF");const o=Object(r.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:r})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:r})),a={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(a)},"4cpq":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){const{children:t,display:n,id:o}=e;return Object(r.jsx)(i.f,{"data-test-id":o,display:n,children:t})}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),r=n("Jr++");let o;void 0===o&&(o=e),o._gaq=o._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];o._gaq.push(["_setAccount",n]),o._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},l=2,d=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:r}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):r&&r.id?s(["_setCustomVar",1,"viewingUser",r.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const h=function(e,t){let n=e;const o=Object(r.a)(t).q;return o&&(n+="?"+Object(i.a)({q:o})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",h(o.location.pathname,o.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,r){s(["_trackEvent",e,t,n,i,r])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4sDh":function(e,t,n){var i=n("4uTw"),r=n("03A+"),o=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(o(e)||r(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),r=n("9ggG"),o=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},"51gp":function(e,t,n){n.d(t,"a",(function(){return x}));var i=n("q1tI"),r=n("sEfC"),o=n.n(r),a=n("qrav");var s=n("BEAQ"),c=n("jgRP"),l=n("9pre"),d=n("U4JR"),u=n("n6mq"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,1],f={threshold:m},g={rootMargin:"-64px 0px 0px 0px",threshold:l.c},j=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function y(){return(new Date).getTime()}function v(e){return!!e.volume&&e.volume>0}class x extends i.Component{constructor(e){super(e),p(this,"videoWrapperRef",Object(i.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,r=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const r of i){const i=r*n;if(e<=i&&t>i)return r}return null}(this.videoTime,i,this.currentInterval.videoDuration,b);if("number"==typeof r&&this.props.playing&&!t&&n){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],r=t[n+1];if(null==r)return i;if(i<=e&&e<r)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),m);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:j.PAUSED}):this.startNewInterval({viewability:i}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=y();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:v(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};v(e)&&!v(this.props)?n.isAudible=!1:!v(e)&&v(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?j.PLAYING:j.PAUSED:j.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:r,windowHeight:o,windowWidth:a,viewability:s,...c}=t;if(null!=i&&null!=r&&null!=o&&null!=a&&null!=s){const t={...c,height:i,width:r,windowHeight:o,windowWidth:a,viewability:s};Object(d.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:r,videoEndTime:o,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}},...m}=e;return{...m,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:r,endVideoTime:o,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=y();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:l,captions:d,contextLogData:u,controls:p,cropHeight:b,hlsConfig:m,inAdsDesktopVideoExperiment:j,loop:y,objectFit:v,onLoadedChange:x,onPause:O,onPlay:_,onSeek:S,onVolumeChange:w,playbackRate:C,playing:T,playsInline:E,poster:P,preload:I,rootMargin:R,src:k,surface:A,videoStartTime:D,volume:L}=this.props,{seeking:M}=this.state,N=j?g:f;return void 0!==R&&(N.rootMargin=A?Object(c.a)(A):R),Object(h.jsx)(a.a,{options:N,onVisibilityChange:this.handleVisibilityChange,children:Object(h.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:b?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(h.jsx)(s.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:l,captions:d,contextLogData:u,controls:p,hlsConfig:m,loop:y,objectFit:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:x,onLoop:this.handleLoop,onPause:O,onPlay:_,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:S,onTimeChange:this.handleTimeChange,onVolumeChange:w,playbackRate:C,playing:!M&&T,playsInline:E,poster:P,preload:I,src:k,videoStartTime:D,visible:"boolean"==typeof this.visible?this.visible:!!T,volume:L})})})}}p(x,"defaultProps",u.jb.defaultProps)},"5f3z":function(e,t,n){function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:r,selectedPinImgSig:o,user:a}){const s=[r,n,e,a,o,i].map(e=>null!=e?e:"").join(":");return t?"auto-correction-disabled:"+s:s}function r({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:r=null,rs:o="direct_navigation",scope:a="pins",selectedPinImgSig:s=null,sourceId:c=null,user:l}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:r,query_pin_sigs:s,redux_normalize_feed:!0,rs:o,scope:a,source_id:c,user:l}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));function o(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:o,query:a,rs:s,scope:c,bubbleId:l,user:d}=e;return{name:"BaseSearchResource",options:r({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:a,rs:s,scope:c,selectedPinImgSig:o,bubbleId:l,user:d})}}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6/Sz":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("lNaY");function r(e){const t=(((e||{}).rich_metadata||{}).products||[])[0]||{};return t&&t.additional_images&&t.additional_images.length>0?Object(i.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},"6A0I":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("JW66"),a=n("Sihc"),s=n("Ye/N"),c=n("GBVV"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(e){super(e),u(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:i}=this.props;return this.setState({isSaving:!0}),t(Object(a.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:i})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),u(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:i}=this.state;[o.a.KeyCode.ENTER,o.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&i.trim()&&this.onCreateSection()}),u(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),u(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:i}=this.state;!i||t.inputRef&&!n||i.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:n,inputName:i,isSaving:r}=this.state,o=!!i.trim()&&!n;return Object(d.jsxs)(l.f,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&Object(d.jsx)(l.f,{marginTop:3,paddingX:6,paddingY:3,children:Object(d.jsx)(l.u,{size:"sm",children:s.a._("Add section","Title in the add section modal","Title in the add section modal")})}),Object(d.jsxs)(l.f,{padding:4,children:[Object(d.jsx)(l.f,{marginBottom:2,children:Object(d.jsx)(l.y,{htmlFor:"sectionEditName",children:Object(d.jsx)(l.cb,{size:"md",color:n?"red":"gray",children:s.a._("Name","Board section name","Board section name")})})}),Object(d.jsx)(l.f,{children:Object(d.jsx)(l.f,{ref:this.handleInputRef,children:Object(d.jsx)(l.eb,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:s.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),Object(d.jsx)(l.f,{display:"flex",flex:"grow"}),Object(d.jsx)(l.f,{padding:4,children:Object(d.jsx)(l.f,{display:"flex",justifyContent:"end",children:Object(d.jsx)(c.b,{disabled:!o||r,onClick:this.onCreateSection,submitting:r,text:s.a._("Add","add a new section","add a new section")})})})]})}}t.a=Object(r.connect)()(h)},"6G9P":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=(n("JW66"),n("yaUg")),o=n("Ye/N"),a=n("n6mq"),s=n("nKUr");const c=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e},l=(e,t)=>t?Object(r.a)(o.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:null!=e?e:""}):Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(a.cb,{children:o.a._("Saved to")}),Object(s.jsx)(a.cb,{weight:"bold",children:e})]})},"7Ve8":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("h4v/"),r=n("XhR6"),o=n("U4JR");const a=["search_articles_story","style_pivot","structured_search_bubble"];function s({query:e,scope:t}){return`${e}-${t}`}function c({category:e,domains:t,minPrice:n,maxPrice:i}){return[e,t,i,n].map(e=>null!=e?e:"").join("-")}function l({query:e,rs:t,scope:n}){const a=i.a.getInstance().getPreviousViewFromContext();if(!(!a.view_type&&!a.view_parameter)){const{view_type:i,view_parameter:s}=a;Object(o.b)(Object(r.b)(n),{view:i,viewParameter:s,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?Object(o.b)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&Object(o.b)(101,{component:0,element:10349,view:142})}const d=(e=[])=>{let t=!0;return e.reduce((e,n)=>{var i;return t&&n.story_type&&a.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchCarouselStories.push(n):(t=!1,e.filteredResults.push(n)),e},{searchCarouselStories:[],filteredResults:[]})}},"7wXf":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("ynlw"),r=n("rsy7"),o=n("Ye/N"),a=n("lNaY"),s=n("US8k"),c=n("QAzJ"),l=n("n6mq"),d=n("nKUr");const u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},h={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function p({backgroundColor:e,identifier:t,size:n="sm"}){const i="pine"===e?"#0FA573":"#fff",r="sm"===n?u:h;return Object(d.jsx)(l.f,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...r,backgroundColor:e?i:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function b({pin:e,size:t="sm",allowProductCarousel:n,allowShoppingPriceIndicator:u,shoppingLabelColor:h}){const b=Object(i.a)(e),m=Object(c.a)("web_sp2s");if(b.isGif)return p({identifier:"GIF",size:t});if(b.isStoryPin){const{page_count:n=0}=e.story_pin_data||{};return p({identifier:Object(d.jsxs)(l.f,{display:"flex",alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(l.f,{marginEnd:1,display:"flex",alignItems:"center",children:Object(d.jsx)(l.v,{accessibilityLabel:m().anyEnabled?o.a._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"):o.a._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:"sm"===t?12:16})}),Object(d.jsx)(l.cb,{inline:!0,size:"sm",weight:"bold",children:n.toString()})]}),size:t})}if(b.isVideo){const n=e.videos,{duration:i=0}=n&&n.video_list&&n.video_list[Object.keys(n.video_list)[0]]||{};return p({identifier:Object(s.a)(i),size:t})}if(b.isProduct){if(u){const n=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,i=n&&(n.price||n.max_price);return i?p({identifier:i,size:t}):null}if(h){const n=Object(r.a)(e)[0];return n?p({identifier:n,backgroundColor:h,size:t}):null}return null}if(n){const n=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],i=n&&Object(a.a)(e.images,n,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:r=[],index:o=0}=i;return p({identifier:`${o+1}/${r.length}`,size:t})}if(b.isCarousel){const n=e.carousel_data||{},{carousel_slots:i=[],index:r=0}=n;return p({identifier:`${r+1}/${i.length}`,size:t})}return null}},"82UD":function(e,t,n){n.d(t,"a",(function(){return v}));var i=n("q1tI"),r=n("/MKj"),o=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),l=n("qD10"),d=n("yKES"),u=n("5uyJ"),h=n("n6mq"),p=n("nKUr");const b={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,r,o;const{pin:{id:a,images:s,title:c,videos:m,video_status_message:f}}=e,g=f||{},j=s&&s["236x"],y=m&&(null===(t=m.video_list)||void 0===t?void 0:t[u.a.V_HLSV4]),{duration:v}=y||{};return Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(h.j,{children:Object(p.jsxs)(l.a,{to:"/pin/"+a,children:[Object(p.jsxs)(h.f,{overflow:"hidden",position:"relative",rounding:2,children:[j&&Object(p.jsx)(h.x,{alt:c||"",color:"lightGray",naturalHeight:null!==(n=j.height)&&void 0!==n?n:1,naturalWidth:null!==(r=j.width)&&void 0!==r?r:1,src:null!==(o=j.url)&&void 0!==o?o:""}),!!v&&Object(p.jsx)(h.f,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(p.jsx)(d.a,{duration:v})}),Object(p.jsx)(h.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:b.overlay}),Object(p.jsxs)(h.f,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(p.jsx)(h.u,{color:"white",overflow:"normal",size:"sm",children:g.title}),Object(p.jsx)(h.f,{marginTop:4,children:Object(p.jsx)(h.cb,{color:"white",size:"md",overflow:"normal",children:g.subtitle})})]})]}),Object(p.jsx)(h.f,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(p.jsx)(h.f,{flex:"grow",children:c&&Object(p.jsx)(h.f,{paddingY:1,children:Object(p.jsx)(h.cb,{inline:!0,size:"md",weight:"bold",children:c})})})})]})})})}var f=n("Y8Sn"),g=n("EC67"),j=n("vpxy"),y=n("0nTG");function v({trackingParameters:e,pin:t,pinId:n,...l}){var d,u,h;const b=Object(g.i)(),v=Object(r.useSelector)(({pins:e})=>e[n])||t,x=Object(a.a)(v,b),O=Object(s.a)(v),_=!!(O&&O.url&&O.height&&O.width)||void 0,S=O&&v.videos?v.videos.id:void 0,[w,C]=Object(i.useState)(!1),T=Object(i.useCallback)(()=>C(!0),[]),E=Object(i.useCallback)(()=>C(!1),[]),{componentType:P,contextLogData:I,impressionAuxFields:R,slotIndex:k,viewData:A,viewParameter:D,viewType:L}=e;return Object(p.jsx)(o.a,{componentType:P,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...I,...Object(y.f)(v,I)},impressionAuxFields:{...R||{},isNativeVideoAndWatchable:_,videoIdStr:S,clientTrackingParams:x||(v.tracking_params||"")+"-0",imageURL:null!==(d=null===(u=v.images)||void 0===u||null===(h=u["236x"])||void 0===h?void 0:h.url)&&void 0!==d?d:"",richTypes:Object(y.e)(v)},impressionType:"Pin",isPaused:!w,loggingId:v.id,slotIndex:k,viewData:A,viewParameter:D,viewType:L,children:Object(f.g)(v)?Object(p.jsx)(m,{pin:v}):Object(p.jsx)(j.b,{...l,debugImpressionState:w?"started":"paused",onError:E,onLoad:T,pin:v,pinId:n,trackingParameters:{componentType:P,contextLogData:I,slotIndex:k,viewParameter:D,viewType:L}})})}},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),r=n("7w6Q"),o=n("eOdZ"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l(e){const{identifier:t,onHide:n}=e,l=()=>{o.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),r.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(c.jsx)(a.w,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),l()},accessibilityLabel:i.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9ggG":function(e,t,n){var i=n("Z0cm"),r=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},"9pre":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const i=5,r="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},AAEI:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),r=n("ANjH"),o=n("vh5K"),a=n("Vzit");function s(e){const t=Object(i.useDispatch)(),n=Object(i.useSelector)(e=>e.experiences.eligibleExperiences),s=Object(i.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(o.c)(n,s,e):null,...Object(r.bindActionCreators)({completeExperience:a.a,dismissExperience:a.b,fetchAllExperiences:a.d,fetchExperienceForPlacement:a.c,triggerExperimentsForPlacement:a.k,viewExperience:a.j},t)}}},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},r=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&r(e,[]),e.__listeners},a=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let r,o,a=[];if("string"==typeof t)for(r=t.split(" "),o=0;o<r.length;o+=1)a.push({name:r[o],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(r=>{a=a.concat(e(r,t[r],i||n))});return a},c=function(e,t,n,i){const r=s(e,t,n);for(let o=0;o<r.length;o+=1)i(r[o])},l=function(e,t){const n=a(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const i=o(e,!0);for(let r=0;r<n.length;r+=1){const e=n[r];if(!e.callback)return;l(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const i=a(this,!1);if(void 0===i)return this;const r=Object.keys(i);let o=s(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let a=0;a<o.length;a+=1){const e=o[a];let t;t=e.name?[e.name]:r;for(let n=0;n<t.length;n+=1){const r=t[n],o=i[r];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const i=o[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[r]=t}}}return this},n.trigger=function(e,...t){const n=a(this,!1);if(void 0===n)return this;let i,r,o;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const a=n.all,c=s[i],l=n[c];if(void 0!==l)for(r=0;r<l.length;r+=1)if(o=l[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==a)for(r=0;r<a.length;r+=1)if(o=a[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:[c].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(r=0;r<e.length;r+=1)o=e[r],o.fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const r=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,r),this},n.stopListening=function(e,t,n){const i=o(this,!1);let a,c,l;if(!i)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<i.length;c+=1)if(a=i[c],a.obj!==e&&e)d.push(a);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];a.event.name===t.name&&a.originalCallback===t.callback&&(e=!0)}e?a.obj.off(a.event.name,a.event.callback,a.event.context):d.push(a)}else a.obj.off(a.event.name,a.event.callback,a.event.context);return r(this,d),this},e.exports=n},B6Tf:function(e,t,n){n.d(t,"a",(function(){return me})),n.d(t,"b",(function(){return fe}));var i=n("q1tI"),r=n("b/K5"),o=n("/MKj"),a=n("JW66"),s=n("Ye/N"),c=n("GBVV"),l=n("/WHw"),d=n("pLLR"),u=n("fZbY"),h=n("oRM1"),p=n("FDmi"),b=n("yaUg"),m=n("n6mq"),f=n("nKUr");function g(e){const{body:t,img:n,onClick:i,selected:r,title:o,username:a,valid:c}=e,l=a||t;return Object(f.jsx)(m.f,{marginBottom:4,children:Object(f.jsx)(m.bb,{onTap:i,children:Object(f.jsxs)(m.f,{alignItems:"center",direction:"row",display:"flex",width:"100%",children:[n,Object(f.jsxs)(m.f,{flex:"grow",marginEnd:2,marginStart:3,children:[Object(f.jsx)(m.f,{marginBottom:1,children:Object(f.jsx)(m.cb,{truncate:!0,weight:"bold",children:o})}),Object(f.jsx)(m.cb,{size:"sm",truncate:!0,children:l})]}),Object(f.jsx)(m.f,{marginStart:2,children:(d=r,u=c,a?d?Object(f.jsx)(m.v,{accessibilityLabel:s.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):Object(f.jsx)(m.f,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):Object(f.jsx)(m.g,{color:"gray",disabled:!!d||Boolean(!u),inline:!0,size:"sm",text:d?s.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):s.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var d,u}var j=n("ZE2w"),y=n("w70y");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n){const{id:i}=e;return t===n.findIndex(e=>e.id===i)}class O extends i.Component{constructor(...e){super(...e),v(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),v(this,"isIdSelected",{}),v(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),v(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:i}=this.state,r=i.concat([e]),o="email"===n?j.c:j.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:r})}),v(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const i="email"===n?j.c:j.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:i}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(x):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(u.a)(e)}).concat(n).filter(x)).map(e=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const i=Object(f.jsx)(p.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return Object(f.jsx)(g,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:i,valid:r}=e,o=Object(f.jsx)(m.f,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:Object(f.jsx)(m.v,{accessibilityLabel:s.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),a=Object(b.a)(s.a._("Email {{ email }}"),{email:i});let c,l;return t?(c=s.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),l=()=>{}):(c=r?s.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):s.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),l=()=>r?n(e):void 0),Object(f.jsx)(g,{body:c,img:o,onClick:l,selected:t,title:a,valid:r})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>Object(f.jsx)("li",{children:e},t));return Object(f.jsxs)(m.f,{direction:"column",display:"flex",height:"100%",children:[Object(f.jsx)(m.f,{paddingX:3,paddingY:2,children:Object(f.jsx)(m.cb,{size:"sm",children:s.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),Object(f.jsx)(m.f,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:Object(f.jsx)(m.f,{flex:"grow",children:Object(f.jsx)(h.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:Object(f.jsx)(m.Q,{accessibilityLabel:s.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:s.a._("Search by name or email"),size:"lg",value:e})})})}),Object(f.jsx)(m.f,{overflow:"scrollY",paddingX:3,children:Object(f.jsx)("ul",{children:i})})]})}}var _=Object(y.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",allowStale:!1})(O);var S=Object(l.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:r,onCancel:o,onChangeBoardName:l,onChangeBoardPrivacy:u,onInvite:h,privacy:p,preselectedCollaborators:b,saving:g,showTitle:j,isAdAccountOwner:y}){const{isRTL:v}=Object(d.d)(),x=0===n.length,O=p===a.a.BoardPrivacy.SECRET;return Object(f.jsx)(m.f,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:Object(f.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},style:{height:"100%"},children:Object(f.jsxs)(m.f,{direction:"column",display:"flex",height:"100%",children:[j&&Object(f.jsx)(m.f,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:Object(f.jsx)(m.u,{size:"sm",children:s.a._("Create board")})}),Object(f.jsxs)(m.f,{padding:3,children:[Object(f.jsx)(m.f,{marginBottom:2,children:Object(f.jsx)(m.y,{htmlFor:"boardEditName",children:Object(f.jsx)(m.cb,{size:"sm",children:s.a._("Name")})})}),Object(f.jsx)(m.f,{children:Object(f.jsx)(m.eb,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>l(e),placeholder:s.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),y&&Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.f,{padding:3,children:[Object(f.jsx)(m.f,{marginBottom:2,children:Object(f.jsx)(m.y,{htmlFor:"secret",children:Object(f.jsx)(m.cb,{size:"sm",children:s.a._("Secret","secret board","secret board")})})}),Object(f.jsx)(m.f,{children:Object(f.jsx)(m.X,{id:"secret",onChange:u,switched:O})})]}),Object(f.jsx)(m.f,{display:"flex",flex:"grow",overflow:"hidden",children:Object(f.jsx)(m.f,{width:"100%",children:Object(f.jsx)(_,{onSelectedCollaboratorsChange:h,preselectedCollaborators:b})})})]}),!y&&Object(f.jsx)(i.Fragment,{children:Object(f.jsxs)(m.f,{padding:3,children:[Object(f.jsx)(m.f,{marginBottom:2,children:Object(f.jsx)(m.y,{htmlFor:"protected",children:Object(f.jsx)(m.cb,{size:"sm",children:s.a._("Protected board (not listed on user's profile)","protected board","protected board")})})}),Object(f.jsx)(m.f,{children:Object(f.jsx)(m.X,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),Object(f.jsxs)(m.f,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:v,paddingX:4,paddingY:2,position:"absolute",right:!v,width:720,children:[Object(f.jsx)(m.g,{inline:!0,onClick:o,text:s.a._("Cancel","cancel board create","cancel board create")}),Object(f.jsxs)(m.f,{display:"flex",justifyContent:"end",children:[!!e&&Object(f.jsx)(m.f,{paddingX:2,children:Object(f.jsx)(m.cb,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),Object(f.jsx)(c.b,{disabled:!t.trim()||!x||!!e||g,submitting:g,text:s.a._("Create","create a new board","create a new board")})]})]})]})})})})),w=n("6A0I"),C=n("qyR9"),T=n("0BOE");class E extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=2?[{items:Object(T.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(T.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:r,onSectionSelected:o,pinId:a}=this.props;return Object(f.jsx)(C.a,{isSelectMode:i,boardSavedTo:n,createButtonLabel:s.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:r,onSelected:o,pinId:a})}}var P=Object(y.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(E),I=n("Wer7"),R=n("U4JR"),k=n("ANjH");function A(e,t,n){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...n?{advertiser_id:n,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class D extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:i}=t,r=(e=>{const t=[],n=[];return e.forEach(e=>{var i;null!==(i=e.name)&&void 0!==i&&i.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return r.length<=3?[{items:r}]:e.length>=2?[{items:Object(T.a)(r,e)}]:[i.length?{items:i,title:s.a._("Top choices")}:{items:[]},{items:r,title:s.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:r,onBoardCreate:o,onBoardSelected:a,pinId:s}=this.props,c=n&&!!e&&e.all_boards.length<=3;return Object(f.jsx)(C.a,{isSelectMode:r,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:c,isLoaded:n,getSections:this.getSections,onCreate:o,onSelected:a,pinId:s})}}var L=Object(k.compose)(Object(o.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(y.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>A(e.pinId,e.username,e.advertiser_id)}))(D);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(...e){super(...e),M(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),M(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),M(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),M(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),M(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),M(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:i,invalidatePinBetterSaveResource:r,invalidateResource:o}=this.props;if(o(),r(),n&&"board_section"===e.type){return i(n,e,t)}const a=e,{section_count:s=0}=a;!n&&"number"==typeof s&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),i(a,void 0,t))}),M(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,i=e?10306:249;Object(R.b)(101,{component:n,element:i})}),M(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?s.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?s.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?s.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):s.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:r,preselectedCollaborators:o,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:c,selectedSectionBoard:l,showCreate:d}=this.state,u=!!l,h=!a;return Object(f.jsxs)(m.f,{display:"flex",position:"relative",width:"100%",children:[!d&&Object(f.jsx)(m.f,{direction:"column",display:"flex",marginTop:4,width:"100%",children:l?Object(f.jsx)(P,{board:l,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):Object(f.jsx)(L,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:r})}),d&&!l&&Object(f.jsx)(S,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:r,prefilledName:c||s,preselectedCollaborators:o,showTitle:h}),d&&l&&Object(f.jsx)(w.a,{board:l,completeCreateSectionAction:this.handleBoardSave,initialName:c,isRepin:t,onClearModal:this.close,showTitle:h})]})}}var B=Object(o.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(I.f)("BoardPickerBoardsResource",A(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(I.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(N),F=n("TgLd"),U=n("v+PR"),V=n("1inl"),H=n("K316"),z=n("TvzZ");const G="publish_actions",W={checkFbTimelinePermission:function(e){Object(z.default)((function(t){t.api("/me/permissions",t=>{const n=t.data;let i=!1;if(n){i=!!n.find(e=>e.permission===G&&"granted"===e.status)}i?e.success&&e.success():e.error&&e.error()})}),H.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){Object(z.default)(n=>{if(!W.fbConnectedAccountMatchesLoggedInAccount(n,t))return V.a.showError(s.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());W.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){W.fbLogin(e)}})},H.a)},fbLogin:function(e){Object(z.default)(t=>{t.login(t=>{t.authResponse?W.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:G})},H.a)}};var q=W,K=n("G35+"),Y=n("mBfy"),X=n("v/Q4");function $({onSocialConnect:e}){const t=Object(X.a)(),{data:n,isLoaded:r}=Object(y.a)({name:"UserResource",options:{user_id:t&&t.isAuth?t.id:"",field_set_key:"social_connect"}}),[o,a]=Object(i.useState)(!!(r&&n&&n.facebook_publish_stream_enabled)),[c,l]=Object(i.useState)(!!(r&&n&&n.twitter_publish_enabled));if(Object(i.useEffect)(()=>{r&&n&&(a(!!n.facebook_publish_stream_enabled),l(!!n.twitter_publish_enabled))},[n,r]),!n)return null;const{connected_to_facebook:d,twitter_url:u}=n,h=t=>{a(t),Y.default.set("facebook_publish_stream_enabled",t),e(K.a.FACEBOOK,t)};return!(!d&&!u)&&Object(f.jsxs)(m.f,{display:"flex",padding:2,children:[d&&Object(f.jsxs)(m.f,{display:"flex",alignItems:"center",marginStart:2,children:[Object(f.jsx)(m.k,{checked:o,id:"share_facebook",onChange:()=>{o?h(!1):q.maybeRequestFbTimelinePermission({success:()=>h(!0),error:()=>h(!1)})},size:"sm"}),Object(f.jsx)(m.y,{htmlFor:"share_facebook",children:Object(f.jsx)(m.f,{marginStart:2,children:Object(f.jsx)(m.cb,{children:s.a._("Post to Facebook")})})})]}),u&&Object(f.jsxs)(m.f,{display:"flex",alignItems:"center",marginStart:5,children:[Object(f.jsx)(m.k,{checked:c,id:"share_twitter",onChange:()=>{const t=!c;l(t),e(K.a.TWITTER,t)},size:"sm"}),Object(f.jsx)(m.y,{htmlFor:"share_twitter",children:Object(f.jsx)(m.f,{marginStart:2,children:Object(f.jsx)(m.cb,{children:s.a._("Post to Twitter")})})})]})]})}var Z=n("Sihc");var Q=({board:e,completeCreateSectionAction:t,height:n,onClose:r,pinImport:a,url:c,width:l})=>{const d=Object(o.useDispatch)(),[u,h]=Object(i.useState)(""),[p,b]=Object(i.useState)(!1),[g,j]=Object(i.useState)(null);return Object(f.jsx)(F.b,{accessibilityModalLabel:s.a._("Repin modal","save.pinToBoard.modal.label","Accessibility label on modal"),heading:Object(f.jsx)(m.f,{padding:8,children:Object(f.jsx)(m.t,{alignItems:"center",children:Object(f.jsx)(m.f,{width:"66%",marginStart:"auto",children:Object(f.jsxs)(m.t,{justifyContent:"between",children:[Object(f.jsx)(m.u,{size:"md",children:s.a._("Add section","sectionCreateModal.title","Title in the add section modal")}),Object(f.jsx)(m.w,{icon:"cancel",accessibilityLabel:s.a._("Close","sectionCreateModal.closeButton","close section create modal button"),size:"md",iconColor:"darkGray",onClick:r})]})})})}),footer:Object(f.jsx)(m.t,{children:Object(f.jsx)(m.f,{marginStart:"auto",children:Object(f.jsx)(m.g,{text:s.a._("Add","sectionCreateModal.add.button","add a new section"),color:"red",onClick:()=>{e&&(b(!0),d(Object(Z.a)({boardId:e.id,name:u.trim(),pinImport:a})).then(n=>{t(e,n,!1)}).catch(e=>{j(e.message||e.message_detail)}).finally(()=>{b(!1)}))},disabled:p||!u.trim()||!!g,size:"lg"})})}),onDismiss:r,size:"sm",children:Object(f.jsx)(m.f,{padding:8,children:Object(f.jsxs)(m.t,{children:[Object(f.jsx)(m.C,{rounding:4,height:n,width:l,children:Object(f.jsx)(m.x,{alt:"",fit:"cover",src:c||"",naturalHeight:null!=n?n:1,naturalWidth:null!=l?l:1})}),Object(f.jsx)(m.f,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:l?`calc(100% - ${l}px)`:"100%"}},children:Object(f.jsx)(m.eb,{id:"sectionEditName",onChange:e=>{h(e.value)},placeholder:s.a._('Like "Lighting"',"sectionCreateModal.boardSection.name","Placeholder for board section name"),label:s.a._("Name","section.create.label","label text for section input"),size:"lg",type:"text",value:u})})]})})})};function J(){return Object(f.jsxs)(m.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[Object(f.jsx)(m.U,{accessibilityLabel:s.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),Object(f.jsx)(m.f,{paddingY:2,children:Object(f.jsx)(m.u,{children:s.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),Object(f.jsx)(m.cb,{children:s.a._("We're grouping the ideas you picked into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var ee=n("82UD");function te({index:e,pin:t,sectionName:n}){const r=t.id,o=Object(i.useContext)(le),[a,s]=Object(i.useState)(!1),c=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),o({type:a?"unselect":"select",payload:{sectionName:n,pinId:r}}),s(!a)},[r,a]);return Object(f.jsx)(m.bb,{onTap:c,rounding:4,children:Object(f.jsx)(ee.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:a?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}var ne=Object(i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(i.useRef)(),r=Object(y.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(m.f,{display:"flex",justifyContent:"center",width:"100%",children:Object(f.jsx)(m.U,{accessibilityLabel:s.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&r.isFetching})}),r.data&&Object(f.jsx)(m.f,{paddingY:4,paddingX:8,children:Object(f.jsx)(m.u,{align:"start",size:"sm",children:e.name})}),Object(f.jsx)(m.f,{ref:n,children:r.data&&n&&n.current&&Object(f.jsx)(m.D,{columnWidth:152,comp:({data:t,itemIdx:n})=>Object(f.jsx)(te,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:r.data||[],loadItems:()=>{},scrollContainer:()=>n.current})})]})}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function ie({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:r}){Object(i.useEffect)(()=>{const e=[];r.forEach(t=>e.push(t.name)),Object(R.b)(13,{suggested_section_names_viewed:e,view:1,viewParameter:3461})},[r]);return Object(f.jsx)(i.Fragment,{children:Object(f.jsxs)(m.f,{width:"100%",children:[Object(f.jsx)(m.f,{minHeight:"100%",marginBottom:12,width:"100%",children:r.map((e,t)=>Object(f.jsx)(m.f,{marginBottom:4,children:Object(f.jsx)(ne,{sectionSuggestion:e,showSpinner:0===t})},e.name))}),Object(f.jsx)(m.f,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720,children:Object(f.jsx)(m.g,{color:e?"red":"gray",inline:!0,size:"lg",text:e?s.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):s.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function re({handleClose:e,handleSubmit:t,suggestions:n}){const[r,o]=Object(i.useState)({}),a=!!Object.keys(r).length;return Object(f.jsxs)(m.f,{children:[Object(f.jsx)(m.f,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:Object(f.jsx)(m.f,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map(e=>Object(f.jsx)(m.f,{paddingX:1,height:160,children:Object(f.jsx)(m.bb,{onTap:()=>{const t={...r};t[e.name]?delete t[e.name]:t[e.name]=e,o(t)},rounding:6,children:Object(f.jsx)(m.f,{rounding:7,dangerouslySetInlineStyle:{__style:{border:r[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:Object(f.jsxs)(m.f,{height:160,width:152,position:"relative",rounding:6,children:[Object(f.jsx)(m.C,{rounding:6,height:160,width:152,children:Object(f.jsx)(m.x,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),Object(f.jsx)(m.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:Object(f.jsx)(m.u,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name))})}),Object(f.jsx)(m.f,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:Object(f.jsx)(m.g,{color:a?"red":"gray",inline:!0,size:"lg",text:a?s.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):s.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{a?t(Object.values(r)):e()}})})]})}var oe=n("M1Uz"),ae=n("6G9P"),se=n("EC67"),ce=n("nGHF");const le=Object(i.createContext)();function de(e,t){const{sectionName:n,pinId:i}=t.payload,r=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...r,i]};case"unselect":const t=r.indexOf(i);if(r.splice(t,1),!r.length){const t={...e};return delete t[n],t}return{...e,[n]:r};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function ue({board:e,handleClose:t,setModalTitle:n,suggestions:r}){const[a,c]=Object(i.useState)("sections"),[l,d]=Object(i.useState)([]),[u,h]=Object(i.useState)([]),[p,b]=Object(i.useReducer)(de,{}),{showOneToast:m}=Object(ce.b)(),g=Object(o.useDispatch)(),j=Object(se.h)(),y=Object(i.useRef)(null);Object(i.useEffect)(()=>()=>{y.current&&clearTimeout(y.current)},[]),Object(i.useEffect)(()=>{const e=[];r.forEach(t=>e.push(t.name)),h(e)},[r]);const v=()=>{Object(R.b)(101,{component:20,view:52})},x=()=>{t(),m(({onHide:t})=>{var n;return Object(f.jsx)(oe.a,{duration:me,onHide:t,text:Object(ae.a)(e.name),href:e.url,imageUrl:null!==(n=e.image_cover_url)&&void 0!==n?n:"",onClick:v})}),Object(R.b)(101,{element:1150,view:1,viewParameter:3460,suggested_section_names:u})};return{sections:Object(f.jsx)(re,{handleClose:x,handleSubmit:e=>{d(e),c("pins"),n&&n(s.a._("Great! Now pick some ideas to start off with.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"));const t=[];e.forEach(e=>t.push(e.name)),Object(R.b)(101,{element:96,suggested_section_names_selected:t,suggested_section_names_viewed:u,view:1,viewParameter:3460})},suggestions:r}),pins:Object(f.jsx)(le.Provider,{value:b,children:Object(f.jsx)(ie,{canSubmit:!!Object.keys(p).length,handleClose:x,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const i=l.reduce((e,t)=>(e[t.name]=null,e),{});let r=0;const o=[];Object.entries({...i,...p}).forEach(([n,i])=>{r+=Array.isArray(i)&&i.length,o.push({[n]:i}),g(Object(Z.a)({boardId:e.id,initialPinIds:i,name:n})).then(()=>{t+=1,t===l.length&&(y.current=setTimeout(()=>{var t;j.push(null!==(t=e.url)&&void 0!==t?t:"")},1500),Object(R.b)(101,{element:76,number_pins_selected:r,number_sections_selected:l.length,selected_pin_ids:JSON.stringify(o),suggested_section_names:u,view:1,viewParameter:3460}))})})},sectionSuggestions:l})}),saving:Object(f.jsx)(J,{})}[a]}var he=n("Yo6N"),pe=n("QAzJ");function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me=4e3,fe={LOADING:"loading",SUCCESS:"success"};class ge extends i.PureComponent{constructor(...e){super(...e),be(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),be(this,"pinImageRef",Object(i.createRef)()),be(this,"unmounted",!1),be(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:i,sectionSuggestions:r,setModalTitle:o}=this.props;i(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),r&&r.length>0&&o&&o(s.a._("Let's build out your new board! What topics will it include?","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),be(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),be(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),be(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),be(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{activateRemoveBoardSectionUpsell:e,boardSavedTo:t,boardWithSection:n,color:o,displaySuccessAnimation:a,handleNewBoardAnimationCompletion:c,handleSocialConnectSet:l,isInModal:d,newPin:u,pin:h,preselectedCollaborators:p,onBoardCreated:b,sectionSuggestions:g,sensitiveContentNotice:j,setModalTitle:y,showCreate:v,shouldRenderContent:x,suggestedBoardTitle:O,updateDescription:_}=this.props;if(!h||!h&&!h.resourceLoaded||!x)return null;const{isSavingPin:S,newBoard:w}=this.state;if(v&&n){var C;const{url:e,width:t,height:i}=(null===(C=h.images)||void 0===C?void 0:C["236x"])||{};return Object(f.jsx)(Q,{board:n,url:e,height:i,width:t,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let T=null;u&&u.board&&(T=u.board.name);const E=j&&j.title||this.props.modalTitle,P=j?Object(f.jsx)(he.a,{inModal:!0,notices:[j]}):Object(f.jsx)(m.f,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:S&&w&&g&&g.length>0&&!e().group.startsWith("enabled")?Object(f.jsx)(ue,{board:w,handleClose:this.close,setModalTitle:y,suggestions:g}):Object(f.jsxs)(i.Fragment,{children:[Object(f.jsxs)(m.f,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[Object(f.jsxs)(m.f,{direction:"column",display:"flex",justifyContent:"between",width:"40%",children:[Object(f.jsx)(m.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:Object(f.jsx)(U.a,{color:o,pin:h,pinImageRef:this.pinImageRef,updateDescription:_})}),Object(f.jsx)($,{onSocialConnect:l})]}),Object(f.jsx)(m.f,{display:"flex",width:"60%",children:Object(f.jsx)(B,{boardSavedTo:t,boardWithSection:n,isRepin:!0,onBoardCreated:b,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:h.id,preselectedCollaborators:p,setModalTitle:d?y:void 0,showCreate:v,suggestedBoardTitle:O})})]}),a&&Object(f.jsx)(r.a,{onDismiss:()=>{c(),this.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:T})]})});return d?Object(f.jsx)(F.b,{accessibilityModalLabel:E||s.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:E,onDismiss:this.close,size:"md",children:P}):P}}be(ge,"defaultProps",{pwtAuxData:{}});t.c=function(e){const t=Object(pe.a)("web_remove_board_section_upsell");return Object(f.jsx)(ge,{...e,activateRemoveBoardSectionUpsell:t})}},BEAQ:function(e,t,n){n.r(t),n.d(t,"getPlaylistSourceSrc",(function(){return l})),n.d(t,"default",(function(){return d}));var i=n("q1tI"),r=n("PioT"),o=n("TqFJ"),a=n("aFfM"),s=(n("n6mq"),n("nKUr"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class d extends i.PureComponent{constructor(e){super(e),c(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),c(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),c(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=l(e.src);this.state={useHlsVideo:!e.preferMp4&&!r.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:b,loop:m,objectFit:f,onDurationChange:g,onEnded:j,onFullscreenChange:y,onLoadedChange:v,onPause:x,onPlay:O,onPlayheadDown:_,onPlayheadUp:S,onReady:w,onSeek:C,onTimeChange:T,onVolumeChange:E,playbackRate:P,playing:I,playsInline:R,poster:k,preferMp4:A,preload:D,src:L,videoStartTime:M,visible:N,volume:B}=this.props,{useHlsVideo:F}=this.state,U=l(L),V={...b,startPosition:M||-1},H=!j&&m;return F&&U?Object(s.jsx)(a.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:V,loop:m,loopOveride:H,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:v,onPause:x,onPlay:O,onPlayheadDown:_,onPlayheadUp:S,onReady:w,onSeek:C,onTimeChange:T,onVolumeChange:E,playbackRate:P,playing:I,playsInline:R,poster:k,preload:D,setVideoRef:this.setVideoPlayerRef,src:U,visible:N,volume:B}):Object(s.jsx)(o.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,loop:m,loopOveride:H,objectFit:f,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:v,onPause:x,onPlay:O,onPlayheadDown:_,onPlayheadUp:S,onReady:w,onSeek:C,onTimeChange:T,onVolumeChange:E,playbackRate:P,playing:I,playsInline:R,poster:k,preload:D,setVideoRef:this.setVideoPlayerRef,src:A?L:U||L,videoStartTime:M,visible:N,volume:B})}}},BUdX:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("sErn"),r=n("+NLT"),o=n("jZXB");let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:r.a.instance,...Object(i.a)(r.a.instance)});var t;return t=r.a.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new o.a,advertiser:null,legacyAdvertiser:null})}},BcL7:function(e,t,n){var i=n("La7j"),r=n("xBNU"),o=n.n(r);const a={getInstance(){const e=o.a.experiments;return new i.a(null==e?void 0:e.active,null==e?void 0:e.triggerable)}};t.a=a},BcvT:function(e,t,n){var i=n("q1tI"),r=n("nKUr");function o({anchor:e,children:t,zIndex:n}){const o=Object(i.useRef)(null),[a,s]=Object(i.useState)(0),[c,l]=Object(i.useState)(0),{height:d,width:u}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=o;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(d,u,e,n);s(i),l(r)}},[d,u,o.current]),Object(r.jsx)("div",{ref:o,style:{left:a,position:"absolute",top:c,zIndex:n},children:t})}var a=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:s,size:c,zIndex:l}=e;return t?Object(r.jsx)(o,{anchor:t,zIndex:l,children:Object(r.jsx)(a.bb,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:Object(r.jsx)(a.M,{paused:s,size:c})})}):null}},BiGR:function(e,t,n){var i=n("nmnc"),r=n("03A+"),o=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n("geGc"),o=n("Sp3T"),a=n("TqAR"),s=n("TgLd"),c=n("oVol"),l=n("U4JR"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=({children:e})=>e(Object(o.a)());class b extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:o,board:s,sendType:l,url:d,fullName:h,profileUrl:p,viewParameter:b,viewType:m,onExternalSend:f,showCaret:g,todayArticle:j}=this.props;let y={description:e,id:i,imageUrl:n,name:"",type:c.a.PIN,url:`/pin/${i}/`},v=c.a.PIN;switch(l){case"user":y={description:e,id:o,imageUrl:n,name:h,type:c.a.PINNER,url:p},v=c.a.USER;break;case"board":y=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:c.a.BOARD,url:s.url},v=c.a.BOARD;break;case"today_article":y=j&&{description:j.subtitle||"",id:j.id,imageUrl:n,name:j.title,type:c.a.TODAY_ARTICLE,url:Object(a.i)(j)},v=c.a.TODAY_ARTICLE;break;case"search":y={...y,type:c.a.SEARCH,url:d},v=c.a.SEARCH}const x={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:v,sharedObject:y,viewParameter:b,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:Object(u.jsx)(r.default,{...x})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(l.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:r,idealDirection:o,onDismiss:a,showCaret:c,children:l}=this.flyoutProps();return Object(u.jsxs)("div",{style:{pointerEvents:"auto"},children:[Object(u.jsx)(d.f,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(p,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>t(()=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.z,{children:Object(u.jsx)(d.f,{zIndex:t?s.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.L,{anchor:r,idealDirection:o,onDismiss:a,showCaret:c,size:"xl",positionRelativeToAnchor:!1,children:l})})}):Object(u.jsx)(d.L,{anchor:r,idealDirection:o,onDismiss:a,showCaret:c,size:"xl",children:l}))]})}}h(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},"Dw+G":function(e,t,n){var i=n("juv8"),r=n("mTTR");e.exports=function(e,t){return e&&i(t,r(t),e)}},EEGq:function(e,t,n){var i=n("juv8"),r=n("oCl/");e.exports=function(e,t){return i(e,r(e),t)}},ENhS:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:r,Consumer:o,useHook:a}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),r=n("pLLR"),o=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(o.jsx)(r.b,{children:r=>Object(o.jsx)(i.a,{activate:e,activateExperiment:e=>r.experiments.v2ActivateExperiment(e)||"",group:r.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("BUdX");const r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],a=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],s=["US","CA"],c=e=>{if(o.includes(e.toUpperCase())){const e=i.a.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return r.includes(e.toUpperCase())},l=e=>a.includes(e.toUpperCase()),d=(e,t,n)=>{const i={numDays:n},r=e[n]||{},o=e[2*n]||{};return t.forEach(e=>{const t=r[e]||0,n=o[e]?o[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},u=e=>!!e&&s.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},FZoo:function(e,t,n){var i=n("MrPd"),r=n("4uTw"),o=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,d=(t=r(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=s(t[l]),b=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=u){var m=h[p];void 0===(b=c?c(m,p,h):void 0)&&(b=a(m)?m:o(t[l+1])?[]:{})}i(h,p,b),h=h[p]}return e}},FfPP:function(e,t,n){var i=n("idmN"),r=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},"G35+":function(e,t,n){var i=n("AHhP"),r=n.n(i),o=n("1inl"),a=n("K316"),s=n("fZ0m"),c=n("YYM5"),l=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),h=n("28DW");function p(){}let b;Object.assign(p.prototype,r.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(c.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,r;n&&(i=n.grantedScopes,i=i?i.split(","):[],r=n.userID);const o=i.find(e=>"email"===e),a={id:r};"connected"===e.status&&o?t.success(a):t.error(a),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),r=window.open("/connect/"+e+"/","",i);if(!r)return o.a.showError(l.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=u.a.setInterval(()=>{r.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(a),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(b||(b=new p),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},G6z8:function(e,t,n){var i=n("fR/l"),r=n("oCl/"),o=n("mTTR");e.exports=function(e){return i(e,o,r)}},GNiM:function(e,t,n){var i=n("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=a},Gi0A:function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,r=60*i,o=60*r,a=24*o,s=30*a,c=365*a},"HOY+":function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("jmst"),a=n("BUdX"),s=n("Ye/N"),c=n("qhFy"),l=n("n6mq"),d=n("nKUr");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000"}}};function b({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:r,pin:o}){const{id:a}=o;return Object(d.jsxs)(l.x,{alt:r||s.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(d.jsx)(l.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),Object(d.jsxs)(l.f,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+a,children:[Object(d.jsx)(l.bb,{rounding:2,children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.v,{accessibilityLabel:s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:h,size:25}),Object(d.jsx)(l.f,{margin:1}),Object(d.jsx)(l.cb,{color:"white",truncate:!0,weight:"bold",children:s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(d.jsx)(l.f,{margin:3}),Object(d.jsx)(l.bb,{onTap:i,rounding:2,children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.v,{accessibilityLabel:s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(d.jsx)(l.f,{margin:1}),Object(d.jsx)(l.cb,{color:"white",truncate:!0,weight:"bold",children:s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var m=n("51gp"),f=n("Y8Sn");const g=new Map;let j=null;const y=e=>{e.forEach(e=>{const t=g.get(e.target);t&&t(e)})};function v({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:r}){const o=Object(i.useRef)(null);let a=!1;const s=()=>{var t;o.current instanceof HTMLElement&&(t=o.current,g.has(t))&&(a&&(e(!1),a=!1))},c=Object(i.useCallback)(i=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};j=j||new window.IntersectionObserver(y,i),g.set(e,n),j.observe(e)})(o.current,i,i=>{if(!g.has(o.current))return;const r=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,c=n?i.intersectionRatio>=1:r,l=n?0===i.intersectionRatio:!c;!a&&c?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;a=n,a&&e(!0)})(i):a&&l&&s()})},[o.current]);return Object(i.useEffect)(()=>(c(r),()=>{var e;o.current instanceof HTMLElement&&(s(),e=o.current,j.unobserve(e),g.delete(e))}),[c]),o}var x=n("vZlu");const O=new Set(["ConversationView","TodayTabFeed"]);var _=Object(r.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(x.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:r,lowResOnly:o,highResOnly:a,onLoad:u,onError:h,saved:p,onTimeChange:g,isExperimentalPinRep:j,pin:y,surface:x,playing:_,rootMargin:S,setCurrentVideo:w,viewType:C,viewParameter:T,onVisibilityChanged:E,trackFullVisible:P,inVisibilityChangedHookExperiment:I}){var R,k;const[A,D]=Object(i.useState)(!1),[L,M]=Object(i.useState)(!0),N=Object(f.f)(y),B=N&&!y.is_eligible_for_web_closeup,F=j&&N&&y.is_eligible_for_web_closeup&&!O.has(x),U=B||!j||!N,V=v({onVisibilityChanged:E,inAdsDesktopVideoExperiment:e,trackFullVisible:P,rootMargin:S});let H=!_;e&&(H=L,t&&_&&L&&M(!1));const{url:z}=(null===(R=y.images)||void 0===R?void 0:R["236x"])||{},{id:G,is_promoted:W}=y,q=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),w({pinId:G,isPromoted:Boolean(W),currentTime:0}),D(!1)},[W,G,w]),K=Object(i.useCallback)(()=>{W&&D(F)},[F,W]);if(!y.videos||null===(k=y.videos.video_list)||void 0===k||!k.V_HLSV4)return null;const{height:Y,thumbnail:X,width:$,url:Z}=y.videos.video_list.V_HLSV4||{},Q=y.videos.id,J=[{type:"video/m3u8",src:Z}];return A&&N?Object(d.jsx)(l.f,{ref:I?V:null,children:Object(d.jsx)(b,{backgroundImage:null!=z?z:"",naturalHeight:null!=Y?Y:1,naturalWidth:null!=$?$:1,pin:y,onRestartVideo:q})}):H?Object(d.jsx)(l.f,{ref:I?V:null,children:Object(d.jsx)(c.b,{lowResOnly:o,highResOnly:a,onLoad:u,onError:h,pin:y,saved:p})}):Object(d.jsx)(l.f,{ref:I?V:null,children:Object(d.jsx)(m.a,{cropHeight:n,rootMargin:S,surface:x,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:T,component:0,objectId:y.id,video_id:Q,view:C},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=$?$:1)/(null!=Y?Y:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:U,onTimeChange:g,playing:_,poster:z||X,src:null!=J?J:[],videoStartTime:r,volume:0,onEnded:K})})}));function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(o.a)(_);class C extends i.Component{constructor(...e){super(...e),S(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,r=Object(f.b)(i,n);return this.currentVideoCurrentTime||r||e}),S(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:r,videosAutoplaying:o}=this.props,{id:a,is_promoted:s}=n,c=Object(f.j)(a,o),l=Object(f.a)(a,o);e?s?i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):l&&i({pinId:a,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&r({pinId:a,isPromoted:Boolean(s),currentTime:t||this.currentVideoCurrentTime})}),S(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:r}=t;Object(f.j)(r,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:r,pin:o,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=o,d=Object(f.j)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:c,isPromoted:Boolean(l),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:r,is_promoted:o}=n;Object(f.j)(r,i)&&t({pinId:r,isPromoted:Boolean(o),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:i,videosAutoplaying:r,viewParameter:o,viewType:s,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,inAdsDesktopVideoExperiment:b,isExperimentalPinRep:m,rootMargin:g}=this.props,{id:j}=n,y=Object(f.b)(j,r),v=Object(f.j)(j,r)&&t,x=a.a.fromGlobalContext(),{anyEnabled:O}=x.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return O?Object(d.jsx)(_,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:o,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:v,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,isExperimentalPinRep:m,inVisibilityChangedHookExperiment:O}):Object(d.jsx)(w,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:o,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:v,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,isExperimentalPinRep:m})}}t.a=Object(r.connect)(e=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),e=>({pauseAutoplay:t=>e(Object(x.a)(t)),setCurrentVideo:t=>e(Object(x.c)(t))}))(C)},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},JRj3:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("BUdX");const r=()=>{var e;return null===(e=window)||void 0===e||!e.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x"};function o(e){const t=i.a.fromGlobalContext().experiments.v2ActivateExperiment("web_higher_quality_mp4")||"",{downloadSpeedGroup:n,screenDimension:o}=(()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=r();return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}})(),a={"1x":e.V_EXP5,"2x":e.V_EXP5},s={"1x":e.V_EXP3,"2x":e.V_EXP5},c={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:"enabled_unknown"===t||"enabled_both"===t?a:s,"0-1":"enabled_lowend"===t||"enabled_both"===t?a:s,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":c,"40-80":c,"80_or_above":c}[n][o]||e.V_720P||void 0}function a(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},JZM8:function(e,t,n){var i=n("FfPP"),r=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},K316:function(e,t,n){var i=n("mBfy");t.a=()=>i.default.isAuthenticated()&&!!i.default.attributes.facebook_id&&!i.default.isLimitedLogin()},KFEb:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l}));var i=n("7Ve8"),r=n("5f3z"),o=n("qtKf");const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},s={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:Object(o.c)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:o,query_pin_sigs:s,query:c,user:l},data:d})=>({type:a.SEARCH_PINS,id:Object(r.b)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:o,query:c,selectedPinImgSig:s,scope:n,user:l}),items:null!=d&&d.results?Object(i.a)(d.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({data:e})=>({type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:e&&e.tabs||[]}),RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({data:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e||[]})},c={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function l(e,t,n){const i=[...e],r=i.splice(t,1)[0];return i.splice(n,0,r),i}t.b=(e=c,t)=>{switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":{const{payload:n}=t;if(!n.options.redux_normalize_feed)return e;const{type:i,id:r,items:o,reversed:c}=s[n.name](n);let l=(o||n.data||[]).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i));c&&(l=l.reverse());const d=e[i][r];if(d||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){const n=d||[];let o=l;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(o=c?l.concat(n):n.concat(l)),{...e,[i]:{...e[i],[r]:o}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:r,targetItemId:o,sourceItemId:s}}=t,c=e[n]||{},d=c[i]||[];let u=-1,h=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex(e=>e.type===r&&e.id===s),h=d.findIndex(e=>e.type===r&&e.id===o)),-1!==u&&-1!==h)return{...e,[n]:{...c,[i]:l(d,u,h)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:r,itemType:o,itemIds:s=[]}}=t,c=e[n]||{},l=c[i];if(l&&l.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===o&&(r&&!t||!r&&t))}),a=!!t.find(e=>"pin"===e.type);return{...e,[n]:{...c,[i]:a?t:[]}}}if(l&&l.length>0&&n===a.BOARD_SECTIONS){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===o&&t)});return{...e,[n]:{...c,[i]:t}}}if(l&&l.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===o&&t)});return{...e,[n]:{...c,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:r,itemIds:o=[],prepend:s}}=t,c=e[n]||{},l=c[i];if(l&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=o.map(e=>({id:e,type:r}));let a=0;"story"===(l[0]||{}).type&&(a=1),"story"===(l[1]||{}).type&&(a=2);const s=[...l.slice(0,a),...t,...l.slice(a)];return{...e,[n]:{...c,[i]:s}}}if(l&&n===a.BOARD_SECTIONS){const t=[...o].reverse().map(e=>({id:e,type:"board_section"})),r=l?[...t,...l]:[...t];return{...e,[n]:{...c,[i]:r}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=o.map(e=>({id:e,type:r})),a=l?[...s?t:l,...s?l:t]:t;return{...e,[n]:{...c,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=o.map(e=>({id:e,type:r})),a=l?[...t,...l]:t;return{...e,[n]:{...e[n],[i]:a}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,r=e[n]||{};if(r[i])return{...e,[n]:{...r,[i]:null}};break}}return e}},La7j:function(e,t,n){t.a=n("kugi").default},Lic6:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("7w6Q"),r=n("Xy1J");const o=["isCellular","videoUrl","sessionMark"];let a={},s="";const c=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:r,isBot:o,isSocialBot:c,view:l="unknown",viewParameter:d="unknown"}=e;s=(c?"socialBot":o&&"bot")||"nonbot";const u=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(i);a={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:r,region:u,view:l,viewParameter:d}};function l(e,t,n={}){const r=t?"hls":"nonHls",o={...n,...a},c=`web.video.${r}.${s}.${e}`;i.a.increment(c,1,o)}function d(e,t,n={}){const c=t?"hls":"nonHls",l=e.sessionMark===r.f?"sessionStart":"sessionEnd",d={...n,...a};if(Object.entries(e).forEach(([t,n])=>{const r=`web.video.${c}.${s}.${l}.${t}`,a=parseInt(n,10),u="number"==typeof a?a:-1;var h;if(!o.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:o}=e;i.a.increment(r,1,{errorCode:t,errorName:n,errorReason:o,...d})}else if(t.includes("Width")||t.includes("Height")){const e=(h=u)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";i.a.increment(r,1,{dimensionBucket:e,...d})}else if("numberOfStalls"===t){let e=n;u>1e3?e="over1000":u>10?e="over10":u<0&&(e="negative"),i.a.increment(r,1,{numberOfStalls:e,...d})}else"screenPixelRatio"===t?i.a.increment(r,1,{screenPixelRatio:n||-1,...d}):u>=0?(0===u&&i.a.increment(r+".zero",1,d),i.a.timing(r,u,1),i.a.timing(r+"_with_tags",u,1,d)):u<0&&i.a.increment(r+".negative",1,d)}),e.sessionMark!==r.f){const{rebufferRate:t,startupLatencyMs:n,startupVariantWidth:r,startupPlayerWidth:o}=e,a=`web.video.${c}.${s}.${l}`;if(r&&o){const e=1.5*r>2*o;i.a.increment(`${a}.upscaled.${e?"good":"bad"}`,1,d)}"number"==typeof n&&i.a.increment(`${a}.startupLatency.${n<500?"good":"bad"}`,1,d),"number"==typeof t&&i.a.increment(`${a}.rebufferRate.${t<.01?"good":"bad"}`,1,d)}}},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),r=n("+NLT"),o=n("K316"),a=n("TvzZ"),s=n("Jr++"),c=n("JZM8"),l=n.n(c),d=n("eOdZ"),u=n("zwad");const h={open(e){const t=l()(e,h._validParams),n=h._getDialogType(e),r=h.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let p=Object(i.a)(e.path);const b=Object(s.a)();if(b.ptrf&&(p=u.a.appendQueryString(p,{ptrf:b.ptrf})),c&&(p=u.a.appendQueryString(p,{fb_ref:r})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),Object(a.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,r=10;const o=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&r||(clearInterval(o),i&&h.executeMessengerCallback(i,e.callback)),r-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{c&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},o.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,r=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((r-n)/2)+",top="+(o>i?Math.round((o-i)/2):0)}};t.default=h},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("XRfM"),r=n("pLLR"),o=n("nKUr");const a=i.c.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(o.jsx)(r.b,{children:r=>i.c.formatDate(r.locale,n,e,t)})},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},OBhP:function(e,t,n){var i=n("fmRc"),r=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),d=n("VOtZ"),u=n("EEGq"),h=n("qZTm"),p=n("G6z8"),b=n("QqLw"),m=n("yHx3"),f=n("wrZu"),g=n("+iFO"),j=n("Z0cm"),y=n("DSRE"),v=n("zEVN"),x=n("GoyQ"),O=n("1+5i"),_=n("7GkX"),S=n("mTTR"),w="[object Arguments]",C="[object Function]",T="[object Object]",E={};E[w]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[T]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[C]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,P,I,R,k){var A,D=1&n,L=2&n,M=4&n;if(P&&(A=R?P(t,I,R,k):P(t)),void 0!==A)return A;if(!x(t))return t;var N=j(t);if(N){if(A=m(t),!D)return l(t,A)}else{var B=b(t),F=B==C||"[object GeneratorFunction]"==B;if(y(t))return c(t,D);if(B==T||B==w||F&&!R){if(A=L||F?{}:g(t),!D)return L?u(t,s(A,t)):d(t,a(A,t))}else{if(!E[B])return R?t:{};A=f(t,B,D)}}k||(k=new i);var U=k.get(t);if(U)return U;k.set(t,A),O(t)?t.forEach((function(i){A.add(e(i,n,P,i,t,k))})):v(t)&&t.forEach((function(i,r){A.set(r,e(i,n,P,r,t,k))}));var V=N?void 0:(M?L?p:h:L?S:_)(t);return r(V||t,(function(i,r){V&&(i=t[r=i]),o(A,r,e(i,n,P,r,t,k))})),A}},P6kd:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=n("Ye/N"),o=n("oRao"),a=n("eOdZ"),s=n("Sbkd"),c=n("vvax"),l=n("n6mq"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",()=>{}),u(this,"mounted",!1),u(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),u(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),u(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),u(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),u(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),u(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),u(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(a.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:a}=this.props,s=e.filter(e=>e.query),u=a||"down",h="flyout_"+s.length;return t&&s.length>0?Object(d.jsx)("div",{className:"HashtagFlyout",children:Object(d.jsx)(l.L,{anchor:i,idealDirection:u,onDismiss:this.onDismiss,size:"sm",children:Object(d.jsx)("div",{className:"HashtagRecommendations",children:s.length>0?s.map((e,t)=>Object(d.jsx)("div",{className:"HashtagItem",children:Object(d.jsx)(l.bb,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[Object(d.jsx)(l.f,{flex:"grow",children:Object(d.jsx)(l.cb,{inline:!0,size:"md",weight:"bold",children:e.query})}),Object(d.jsx)(l.f,{flex:"none",children:Object(d.jsx)(l.cb,{inline:!0,size:"sm",children:Object(c.b)(r.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:Object(d.jsx)(o.a,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query)):null})},h)}):null}}function p(e){const t=Object(s.a)();return Object(d.jsx)(h,{...e,makeCancelablePromise:t})}},PNKV:function(e,t,n){},PioT:function(e,t,n){var i=n("+NLT"),r=n("3Qy3");n.d(t,"a",(function(){return r.a}));const o={getBrowser:()=>Object(r.b)(i.a.instance.browser_name||""),isSafari(){return this.getBrowser()===r.a.SAFARI},isChrome(){return this.getBrowser()===r.a.CHROME},isFirefox(){return this.getBrowser()===r.a.FIREFOX},isEdge(){return this.getBrowser()===r.a.EDGE}};t.b=o},PzwE:function(e,t,n){function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return i}))},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),r=n("Ep0g"),o=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(r.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(o.d)({user:e})&&!Object(o.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},Rfw2:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const r=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case o.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function c({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function l(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>r.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return l(t).map(t=>({index:n,term:t,type:e}));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return l(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},Sbkd:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("mvLR");function o(){const e=Object(i.useRef)([]),t=Object(i.useRef)({});return Object(i.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:o,promise:a}=Object(r.a)(n);return i?t.current[i]=o:e.current.push(o),a}}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(i.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},"T+9/":function(e,t,n){var i=n("q1tI"),r=n("i8i4"),o=n("/MKj"),a=n("6/Sz"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:r,contextLogData:o,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:h,slotIndex:p,trackCarousel:b,viewData:m,viewParameter:f,viewType:g}=this.props,j=d[l],y=j.idType,v=e.forcedExit&&"removed"===e.forcedExit?0:void 0,x={endTime:e.endTime,[y]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:v};if(b||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:r,element:a,eventData:{[j.impressionType]:[x]},objectIdStr:h,view:g,viewData:m||{},viewParameter:f,...o}),t&&b){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:r,eventData:{pinCarouselSlotImpressions:[{...x,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:g,viewData:m||{},viewParameter:f,...o})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(o.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function r(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function o(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:r,board:o}=e;return!(i||n||(!t||!t.id)&&!r||null!=o&&o.is_collaborative&&o.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},TNox:function(e,t,n){var i=n("q1tI"),r=n("zwad"),o=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,disabled:c,fullHeight:l,fullWidth:d,href:u,onTap:h,onBlur:p,onFocus:b,onMouseEnter:m,onMouseLeave:f,mouseCursor:g,rounding:j,tabIndex:y,tapStyle:v,target:x}=e,O=r.a.isOffsiteUrl(u);return Object(s.jsx)(o.a,{href:u,target:O?null:x,children:({handleClick:e})=>Object(s.jsx)(a.bb,{accessibilityLabel:n,disabled:c,href:u,fullHeight:l,fullWidth:d,mouseCursor:g,onTap:({event:t,disableOnNavigation:n})=>{n(),null==h||h({event:t}),e({event:t})},onBlur:p,onFocus:b,onMouseEnter:m,onMouseLeave:f,ref:t,rel:O?"nofollow":void 0,role:"link",rounding:j,tabIndex:y,tapStyle:v,children:i})})});c.displayName="TapAreaLink",t.a=c},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te9D:function(e,t,n){var i=n("/kAC"),r=n("dt0z"),o=/[&<>"']/g,a=RegExp(o.source);e.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(o,i):e}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("D2p8"),o=n("LT60"),a=n("n6mq"),s=n("nKUr");const c=new a.s(1e3),l=Object(i.forwardRef)(({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:l,allowMediaPlay:d,allowScroll:u,children:h,closeOnOutsideClick:p,footer:b,heading:m,onDismiss:f,role:g,size:j,subHeading:y},v)=>{Object(i.useEffect)(()=>(r.c.pause(),function(){r.c.resume()}),[]);return Object(s.jsx)(a.z,{zIndex:c,children:Object(s.jsx)(o.a,{allowClickAndDrag:l,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:Object(s.jsx)(a.G,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:p,heading:m,footer:b,onDismiss:()=>{r.c.resume(),f()},ref:v,role:g,size:j,subHeading:y,children:h})})})});l.displayName="Modal",t.b=l},TqAR:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g}));var i=n("F2ZA");n("n6mq");const r=408,o=16,a=2*(r+o),s=766,c=1.532,l=45,d=e=>{const{article_creator_user:t,display_type:n,feed_source:r,header_pin_id:o,id:a,title:s,video_pin:c}=e;switch(n){case 0:case 1:return s?Object(i.e)(r,s,a):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return o?`/pin/${o}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}},u=e=>"todayarticle"===e.type,h=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),p=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),b=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),m=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)},f=["736x","236x","170x"],g=e=>{for(const n of f){var t;if(null!==(t=e.images)&&void 0!==t&&t[n])return e.images[n]}return null}},TqFJ:function(e,t,n){var i=n("q1tI"),r=n("v/Q4"),o=n("U4JR"),a=n("QAzJ"),s=n("pLLR"),c=n("n6mq"),l=n("Lic6"),d=n("Xy1J"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,playbackState:d.g.LOADING}),h(this,"componentDidMount",()=>{const{playing:e}=this.props;Object(l.c)("videoMounted",!1),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(d.f,{initiator:"mount"}))}),h(this,"componentDidUpdate",e=>{const{playing:t,visible:n}=this.props;e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(d.e,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.f,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.f,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),h(this,"errorRetryCount",3),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStartPlayTime",null),h(this,"lastStallTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoRefSetTime",null),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0}),h(this,"addSegment",()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let r=-1;e&&t&&0===n.length&&(r=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,a={indicatedKbps:-1,duration:o&&o.duration*d.c||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:r,switchBitrateKbps:-1,uri:i,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(a)}),h(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*d.c:0),h(this,"getVideoResourceTiming",()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),h(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n,videoStartTime:i}=this.props,{canPlayVideo:r}=this.state;Object(l.c)("handleCanPlayVideo",!1,{firstCanPlayEvent:!r,playing:n}),r||(this.playbackPerformance.canPlayTime=new Date,null!=i&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=i)),this.setState({canPlayVideo:!0}),t&&t(e)}),h(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,r=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(d.e,{initiator:"videoEnded",loop:t}),this.setState({playbackState:d.g.ENDED}),n&&n(e)}),h(this,"handleError",()=>{var e,t,n,i,r,o,a,s;const c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c||null===(e=c.error)||void 0===e?void 0:e.code)!==d.d.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c||null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c||null===(n=c.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==c||null===(i=c.error)||void 0===i||null===(r=i.message)||void 0===r?void 0:r.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c||null===(o=c.error)||void 0===o||null===(a=o.message)||void 0===a?void 0:a.slice(0,100))||"unknown";const u={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,networkState:(null==c?void 0:c.networkState)||"unknown"};if(Object(l.c)("fatalError",!1,u),this.props.enableErrorRecovery)switch(null==c||null===(s=c.error)||void 0===s?void 0:s.code){case d.d.MEDIA_ERR_ABORTED:break;case d.d.MEDIA_ERR_NETWORK:case d.d.MEDIA_ERR_DECODE:case d.d.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:d.g.FAILED})}),h(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),h(this,"handlePlaying",()=>{this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:d.g.PLAYING})}),h(this,"handlePause",()=>{this.state.playbackState!==d.g.STALLING&&this.state.playbackState!==d.g.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:d.g.PAUSED})}),h(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==d.g.ENDED&&this.setState({playbackState:d.g.SEEKING})}),h(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==d.g.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:d.g.STALLING}))}),h(this,"handleTimeUpdate",e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===d.g.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),h(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),h(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),h(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),h(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),h(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("pause",this.handlePause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),h(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),h(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),h(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n={},userId:i}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:a,detailedErrors:s,errorCode:c,errorName:u,errorReason:h,hasFatalError:p,loadStartTime:b,numStalls:m,playbackStartTimestamp:f,srcString:g}=this.playbackPerformance,j=this.videoPlayerRef&&this.videoPlayerRef.video,y=e===d.f,v=y&&!this.hasVideoSessionStarted,x=!y&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(j&&(v||x)){var O;let v=-1;a&&b&&(v=a>b?a-b:0);let x=-1;a&&this.videoVisibleTime&&(x=a>this.videoVisibleTime?a-this.videoVisibleTime:0);const _=this.getVideoResourceTiming(),S={averageVideoKbps:-1,detailedErrors:s,downloadedKiloBytes:"number"==typeof(null==_?void 0:_.decodedBodySize)&&_.decodedBodySize/d.b||0,errorCode:c,errorName:u,errorReason:h,fatalError:p,isCellular:!1,nativeVideoDurationMs:j.duration*d.c||-1,numberOfStalls:m,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:f||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(O=window)&&void 0!==O&&O.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:j.clientWidth,startupPlayerHeight:j.clientHeight,startupTimeMs:v,startupLatencyMs:x,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:j.videoWidth,startupVariantHeight:j.videoHeight,videoUrl:g};if(y)this.videoSessionId=Object(d.i)(i),this.playerId=this.playerId||Object(d.h)();else{this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=this.playbackPerformance.segments.reduce((e,t)=>e+(t.watchedDurationMs||0),0);S.rebufferRate=this.playbackPerformance.totalStallDurationMs/e,S.overallWatchedDurationMs=e,S.startupVariantWatchedDurationMs=e,S.segments=this.playbackPerformance.segments}Object(l.a)(S,!1),Object(o.b)(3606,{...n,is_closeup_video:r,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:S}}),y?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(l.c)(y?"sessionStart":"sessionEnd",!1,t)}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(d.e,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:a,captions:s,controls:l,loop:d,loopOveride:h,objectFit:p,onDurationChange:b,onFullscreenChange:m,onLoadedChange:f,onPause:g,onPlay:j,onPlayheadDown:y,onPlayheadUp:v,onSeek:x,onVolumeChange:O,playbackRate:_,playing:S,playsInline:w,poster:C,preload:T,src:E,volume:P}=this.props,{canPlayVideo:I}=this.state;return Object(u.jsx)(c.jb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:a,captions:s,controls:l,loop:void 0===h?d:h,objectFit:p,onDurationChange:b,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:m,onLoadedChange:f,onLoadStart:this.handleLoadStart,onPause:g,onPlay:j,onPlaying:this.handlePlaying,onPlayheadDown:y,onPlayheadUp:v,onReady:this.handleCanPlayVideo,onSeek:x,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:O,onWaiting:this.handleStalled,playbackRate:_,playing:I&&S,playsInline:w,poster:C,preload:T,ref:this.setVideoPlayerRef,src:E,volume:P})}}t.a=Object(i.memo)((function(e){const t=Object(a.a)("web_mp4_error_recovery")().anyEnabled,{country:n,isAuthenticated:i,isBot:o,isSocialBot:c,unauthId:d,userAgent:h}=Object(s.d)(),{browserName:b,browserVersion:m}=h,{contextLogData:f={}}=e,{view:g,viewParameter:j}=f,y=Object(r.a)(),v={browserName:b,browserVersion:m,country:n,isAuthenticated:i,isBot:o,isSocialBot:c,view:g,viewParameter:j};return Object(l.b)(v),Object(u.jsx)(p,{...e,userId:y.id||d,enableErrorRecovery:t})}))},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),r=n("eOdZ"),o=n("kmwA"),a=n("37no");let s=!1;const c=(e,t,n="en-US")=>{Object(a.c)(Object(i.a)(n),a.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:o.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&c(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=c},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VJm5:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("T+9/"),a=n("6/Sz"),s=n("Ye/N"),c=n("qhFy"),l=n("n6mq"),d=n("yjg8"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{showBadge:!0}),h(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:r,index:o}=e,a=i?.8:0;return!t&&n?Object(u.jsx)(l.f,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:a,transition:"opacity .3s"}},children:Object(u.jsx)(l.cb,{color:"white",children:`${(null!=o?o:0)+1}/${(null!=r?r:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:r}=n,{index:o}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),r!==o&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,cropHeight:r,cropWidth:a,carouselData:h,highResOnly:p,lowResOnly:b,onError:m,onLoad:f,pinId:g,isEditMode:j,isDenseView:y}=this.props;if(!h)return null;const{carousel_slots:v=[],index:x=0}=h,O=void 0!==t?t:x,_=!e&&a,{images:S}=v[O];let w;w=e?i:_||(p?474:y?d.f:d.e);const C=(null==S?void 0:S["236x"])||{},T=r||C.height||0,E=a||C.width||236,P=n||T/E*w,I=(e=>{const t=e.reduce((e,t)=>{var n;const{images:i}=t,{height:r=1,width:o=1}=(null==i?void 0:i["736x"])||(null==i?void 0:i["236x"])||{},a=`${o}x${r}`,s=(null===(n=e[a])||void 0===n?void 0:n.times)||0;return{...e,[a]:{imageHeight:r,imageWidth:o,times:s+1}}},{}),n=Object.keys(t).reduce((e,n)=>t[n].times>e.times?t[n]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null})(v);return Object(u.jsxs)(l.f,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a,children:[!j&&this.renderBadge(),Object(u.jsx)(o.a,{trackCarousel:!0,impressionType:"Pin",loggingId:g,slotIndex:x,viewParameter:72,viewType:1,children:Object(u.jsx)(l.f,{position:"absolute",height:P,width:w,overflow:"hidden"})},"carousel-impression-key-"+O),Object(u.jsx)(l.f,{width:w*v.length,dangerouslySetInlineStyle:{__style:{left:O*w*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:v.map((t,o)=>((e,t,n,i,r,o,a,c,d,h,p,b,m,f,g)=>{var j,y,v;const{images:x,details:O=""}=e;let _,S=236,w=236,C="";if(c)S=d||0,w=h||0,C=x&&(x["564x"]&&x["564x"].url||x["736x"]&&x["736x"].url||x["236x"]&&x["236x"].url);else if(i){var T,E,P,I,R;S=474,w=x&&Math.min(S/.8,S/((null!==(T=null===(E=x["564x"])||void 0===E?void 0:E.width)&&void 0!==T?T:1)/(null!==(P=null===(I=x["564x"])||void 0===I?void 0:I.height)&&void 0!==P?P:1))),C=x&&(null===(R=x["564x"])||void 0===R?void 0:R.url)}else x&&x["736x"]?(w=x&&x["736x"]&&x["736x"].height,S=x&&x["736x"]&&x["736x"].width,C=x&&x["736x"]&&x["736x"].url):x&&x["236x"]&&(w=x&&x["236x"]&&x["236x"].height,S=x&&x["236x"]&&x["236x"].width,C=x&&x["236x"]&&x["236x"].url);var k,A,D;if(m&&f&&(w=Math.min(m*f,null!==(k=w)&&void 0!==k?k:1)),r)_=(null!==(A=null==x||null===(D=x["236x"])||void 0===D?void 0:D.url)&&void 0!==A?A:"")+" 1x";else if(i){var L,M;_=(null!==(L=null==x||null===(M=x["564x"])||void 0===M?void 0:M.url)&&void 0!==L?L:"")+" 1x"}else{var N,B,F;_=[(null==x?void 0:x["474x"])&&(null!==(N=x["474x"].url)&&void 0!==N?N:"")+" 2x",(null==x?void 0:x["736x"])&&(null!==(B=x["736x"].url)&&void 0!==B?B:"")+" 3x",(null==x?void 0:x.orig)&&(null!==(F=x.orig.url)&&void 0!==F?F:"")+" 4x"].filter(Boolean).join(", ")}const U=O||`${s.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`,V=b?void 0:w,H=b?void 0:S,z=!!g,{boxHeight:G,boxWidth:W}=z?{boxHeight:null==g?void 0:g.imageHeight,boxWidth:null==g?void 0:g.imageWidth}:{boxHeight:V,boxWidth:H};return Object(u.jsx)(l.f,{"data-test-id":"carousel-slot-container",height:G,width:W,children:Object(u.jsx)(l.f,{height:b?p:void 0,width:b||void 0,children:Object(u.jsx)(l.x,{alt:U,fit:b?"cover":"none",naturalHeight:null!==(j=w)&&void 0!==j?j:1,naturalWidth:null!==(y=S)&&void 0!==y?y:1,onError:o,onLoad:a,src:null!==(v=C)&&void 0!==v?v:"",srcSet:_})})},`carousel-slot-${t}-${n}`)})(t,g,o,p,b,m,f,e,i,n,r,a,P,w,I))})]})}}h(p,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{pinId:t,pin:n})=>{const i=e[t]||n;return{carouselData:Object(a.a)(i)}},()=>({}))(p)},VOtZ:function(e,t,n){var i=n("juv8"),r=n("MvSz");e.exports=function(e,t){return i(e,r(e),t)}},VpfY:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return p}));var i=n("RHD0"),r=(n("7jH2"),n("Y8Sn"));function o(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(r.i)(e.videos)&&!Object(r.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function p(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}},Vt0H:function(e,t,n){var i=n("q1tI"),r=n("/MKj"),o=n("PioT"),a=n("Ye/N"),s=n("51gp"),c=n("XtwW"),l=n("9pre"),d=n("JRj3"),u=n("vZlu"),h=n("QAzJ"),p=n("ptXI"),b=n("WnLB"),m=n("y2Ga"),f=n("pf20"),g=n("n6mq"),j=n("nKUr");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!o.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),y(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!c.a)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:c.a.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(b.e),i.addSubspan("perceived_video_load",null,c.a.now()),i.metricId.segment===b.d&&i.removeConstraint(b.c))}),y(this,"componentDidMount",()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,r=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||r||{},a=(s=e||o)&&document.querySelector(`video[poster="${s}"]`)||null;var s;4===(null==a?void 0:a.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),y(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),y(this,"handleTouch",()=>{const{seeking:e}=this.state;e||this.setState(e=>({playing:!e.playing}))}),y(this,"handleShowControls",()=>this.setState({controls:!0})),y(this,"handleHideControls",()=>this.setState({controls:!1})),y(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),y(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:r,onEnded:o}=this.props;var a;e.stopPropagation(),r||(this.setState({playing:!1}),(a=t)&&a.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),o&&o()}),y(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),y(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),y(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),y(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),y(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),y(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),y(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),y(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),y(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),y(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),y(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{const r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return i?Object(j.jsx)(p.b,{...o}):Object(j.jsx)(p.a,{...s,...r})})}render(){const{contextLogData:e={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:i,onTimeChange:r,objectFit:c,preferMp4:d,preload:u,showControls:h,startLevel:p,variant:b,video:m,videoStartTime:f}=this.props,{controls:y,fullscreen:v,playing:x,showEndCard:O,volume:_}=this.state,S=o.b.isSafari(),w=m.hlsv3||m.hls||null;if(!w&&!m.mp4)return null;const C=m.mp4,T=!d&&w?[{type:"video/m3u8",src:w.url}]:(C||{}).url,{height:E,thumbnail:P,width:I}=d&&C||w||{},R=t||P;return Object(j.jsx)(g.C,{willChangeTransform:!(S&&v),rounding:"default"===b?0:2,wash:!0,children:O?this.renderCloseupVideoEndCard(null!=R?R:"",null!=E?E:1,null!=I?I:1,n):Object(j.jsx)(g.bb,{onMouseEnter:h?this.handleShowControls:void 0,onMouseLeave:h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:Object(j.jsx)(s.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:a.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:a.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:a.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:a.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:a.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:a.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=I?I:1)/(null!=E?E:1),captions:"",controls:y,hlsConfig:{startLevel:"number"==typeof p?p:l.a},objectFit:c,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,preferMp4:d,playing:x,preload:u,poster:R,src:T,videoStartTime:f,volume:_,loop:i})})})}}y(v,"defaultProps",{loop:!1,showControls:!0});t.a=Object(r.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,r=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:a}=r;let s=null;return s=i?a[n]:o[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(u.c)(t))}))((function(e){const t=Object(f.b)(),n=Object(m.c)(),i=Object(d.c)(),r=Object(h.a)("web_hls_start_level")().group;let o=null;if(r.startsWith("enabled")&&"2x"===i)o=4;else if("enabled_level_2"===r)o=2;else if("enabled_level_3"===r)o=3;else if("enabled_adaptive"===r){var a,s;const e="undefined"!=typeof window?null===(a=window.navigator)||void 0===a||null===(s=a.connection)||void 0===s?void 0:s.effectiveType:void 0;e?"4g"===e?o=3:"3g"===e?o=2:e.includes("2g")&&(o=0):o=3}return Object(j.jsx)(v,{...e,pwtSurfaceContext:n,startLevel:o,storyPinStepStopwatch:t})}))},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function r(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function o(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function c(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function l(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,r={},o=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:r,completeOnUnmount:o,targeting:a}}}function h(e,t,n=!1,i=!1,r){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:r}}}function p(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function b(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function m(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function f(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f}))},WM6B:function(e,t,n){var i=n("q1tI"),r=n("nKUr");class o extends i.Component{constructor(e){var t,n,r;super(e),r={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.ref=Object(i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const r=void 0===i.textContent?"innerText":"textContent",o=i[r];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,o={maxWidth:e,maxHeight:t},a=n?{display:"inline",...o}:{...o};return i?Object(r.jsx)("div",{ref:this.ref,style:{...a,overflow:"hidden"},children:this.props.children}):Object(r.jsx)("div",{ref:this.ref,style:a,children:this.props.children})}}t.a=o},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const i="story_pin",r="closefakemodal",o="button",a="video",s="image"},WnNx:function(e,t,n){function i(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function r(){return{type:"HIDE_REPIN_ANIMATION"}}function o(){return{type:"SHOW_ACCOUNT_MENU_FLYOUT"}}function a(){return{type:"HIDE_ACCOUNT_MENU_FLYOUT"}}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},WwFo:function(e,t,n){var i=n("juv8"),r=n("7GkX");e.exports=function(e,t){return e&&i(t,r(t),e)}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},XGnz:function(e,t,n){var i=n("CH3K"),r=n("BiGR");e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=r),s||(s=[]);++c<l;){var d=t[c];n>0&&o(d)?n>1?e(d,n-1,o,a,s):i(s,d):a||(s[s.length]=d)}return s}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,r=800,o=508,a=424,s=278,c=640,l=508,d=1016,u=508},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XhR6:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},r=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},o=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},Xy1J:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return h}));var i=n("7Cbv");const r=1,o=2,a=1e3,s=1e3,c=1e3,l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5,ENDED:6}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+Object(i.a)()}function h(){return Object(i.a)()}},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n("c4Fo"),o=n("BcvT"),a=n("n6mq"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,r=n.slice(-3);return Object(s.jsx)(a.L,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(a.f,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(a.f,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(a.cb,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(a.f,{display:"flex",marginEnd:-2,paddingX:2,children:r.map(e=>Object(s.jsx)(a.f,{height:60,width:50,paddingX:1,children:Object(s.jsx)(a.C,{rounding:2,height:60,children:Object(s.jsx)(a.x,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:c,flyoutSize:d,fontSize:u,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:b,onClickComplete:m,onClickDismiss:f,placementId:g,positionRelativeToAnchor:j,shouldTimeoutDismiss:y,showCaret:v,textAlign:x,textOverflow:O,textOverrideFn:_,textWeight:S,customizedComplete:w,pulsarZIndex:C}=this.props,T=t||(({children:e})=>p?Object(s.jsx)(a.z,{children:e}):e),E="blue";return Object(s.jsx)(r.a,{experienceIds:n,placementId:g,type:8,children:({complete:t,dismiss:n,display_data:r})=>(this.setDefaultPulsarTooltip(r),r.has_pulsar||r.has_tooltip?(y&&r.disappearTime&&r.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),r.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[r.has_pulsar&&Object(s.jsx)(o.a,{anchor:e,onTouch:()=>this.handlePulsarClick(r.has_tooltip,t),paused:this.state.paused,zIndex:C&&C.index()}),r.has_tooltip&&(!r.has_pulsar||this.state.paused)&&(r.thumbnail_urls?Object(s.jsx)(l,{anchor:e,dismiss:n,idealDirection:h||"down",text:r.text,thumbnails:r.thumbnail_urls}):Object(s.jsx)(T,{children:Object(s.jsx)(a.L,{anchor:e,color:E,idealDirection:h||"down",onDismiss:b?()=>{}:n,positionRelativeToAnchor:!p&&j,shouldFocus:!1,showCaret:v,size:d,children:Object(s.jsxs)(a.f,{column:12,padding:3,children:[Object(s.jsx)(a.cb,{align:"right"===x?"end":x,color:"white",overflow:O,size:u,weight:S||"bold",children:this.getText(r,c,_)}),r.sub_text&&Object(s.jsx)(a.f,{paddingY:2,children:Object(s.jsx)(a.cb,{color:"white",size:u,children:r.sub_text})}),(r.dismiss_button_text||r.complete_button_text)&&Object(s.jsxs)(a.f,{display:"flex",alignItems:"center",marginTop:2,children:[r.dismiss_button_text&&Object(s.jsx)(a.f,{marginEnd:1,column:6,children:Object(s.jsx)(a.g,{color:E,onClick:()=>{f&&f(),n()},size:"md",text:r.dismiss_button_text})}),r.complete_button_text&&Object(s.jsx)(a.f,{column:r.dismiss_button_text?6:12,children:w?Object(s.jsx)(a.bb,{fullHeight:!0,onTap:()=>{t(),m&&m()},rounding:2,children:Object(s.jsx)(a.f,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(a.cb,{color:"blue",weight:"bold",children:r.complete_button_text})})}):Object(s.jsx)(a.g,{color:"white",size:"md",text:r.complete_button_text,onClick:()=>{t(),m&&m()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YYM5:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("+NLT");function r(){const e=i.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},Yo6N:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("qD10"),o=n("n6mq"),a=n("nKUr");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,l=i&&i.text,d=s&&s.text||"",u=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&d&&u.startsWith("http")?Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.cb,{align:t?"center":"start",weight:"bold",children:""!==d?d:"Visit"})}),Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(r.a,{className:"underlineLink",to:u,children:Object(a.jsx)("span",{style:{textDecoration:"underline"},children:Object(a.jsx)(o.cb,{align:t?"center":"start",truncate:!0,children:h})})})})]}):Object(a.jsxs)(o.f,{children:[!!c&&Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.cb,{align:t?"center":"start",weight:"bold",children:c})}),!!l&&Object(a.jsx)(o.f,{marginBottom:1,children:Object(a.jsx)(o.cb,{align:t?"center":"start",children:l})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:r=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],h=1===r.length,p=m(d,u);return Object(a.jsxs)(o.f,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c},children:[!!n&&!e&&Object(a.jsx)(o.f,{marginBottom:2,display:"flex",children:Object(a.jsx)(o.u,{size:"md",children:n})}),!!d&&Object(a.jsx)(o.f,{marginBottom:4,children:Object(a.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(a.jsx)(o.cb,{overflow:"normal",align:e?"center":"start",children:p})})}),!!r.length&&Object(a.jsx)(o.f,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:r.map(t=>Object(a.jsx)(o.f,{column:e||h?12:6,paddingY:1,paddingX:2,children:Object(a.jsx)(s,{action:t,alignCenter:e||h})},JSON.stringify(t)))})]})}var u=n("EC51");function h({notice:e}){const{actions:t=[],description:n,footer:i}=e,r=m(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(a.jsxs)(o.f,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(a.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(a.jsxs)(o.f,{height:"100%",width:"100%",padding:10,children:[Object(a.jsx)("span",{style:s,children:r}),Object(a.jsx)(o.f,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,r,c;return n&&n.startsWith("tel")?Object(a.jsxs)(o.f,{children:[Object(a.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(a.jsx)("span",{style:s,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):Object(a.jsx)(u.a,{href:n||"",children:Object(a.jsx)(o.f,{display:"inlineBlock",children:Object(a.jsx)(o.f,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",paddingX:12,children:Object(a.jsx)(o.cb,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(a.jsx)(o.f,{paddingY:2,width:540,children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(a.jsx)(o.cb,{align:"center",color:"gray",size:"sm",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var p=n("hZxF"),b=n("U4JR");function m(e,t){const n=[];let i=0;for(let r=0;r<t.length;r+=1){const s=t[r];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),r=Object(a.jsx)(o.cb,{inline:!0,weight:"bold",children:Object(a.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(a.jsx)("span",{children:e.substring(i,s.offset)})),n.push(r),i=s.offset+s.length}}return i>0&&n.push(Object(a.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(a.jsx)("span",{children:e})]:n}function f({inModal:e,notices:t,viewType:n,query:r,sensitivity:o}){return Object(p.a)(()=>{n&&Object(b.b)(120,{component:13367,view:n,entered_query:r,advisory_details:null==o?void 0:o.advisory_details,advisory_level:null==o?void 0:o.advisory,severity_level:null==o?void 0:o.severity})}),Object(a.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(a.jsx)(h,{notice:t}):Object(a.jsx)(d,{notice:t,inModal:e}))})}},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),r=n("yjg8"),o=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const r=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>r&&(n=r)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),h=(e,t=!1)=>e&&e.length>0&&!t,p=(e,t,n,i)=>{let r=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,r=!0)=>{if(!n)return null;if(r)return!h(t)&&t&&t.length>0;return!1})(0,s,e)&&(r+=l.seeMoreButtonHeight,r+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(r+=l.productSiteTitle,r+=l.productSiteTitleTopMargin),h(s,i)&&(r+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(o.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);r+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(r+=28),r},b=(e,t,n,i=!1,r,o)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:p(e,0,0,r);return s||c?c+s+10:0},m=(e,t="orig")=>Object(i.a)(e.images,t);function f(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,o=600;n>600&&!e.fullImage&&(o=500);const a=m(e,"orig");if(a){var s,c;const e=Math.floor((null!==(s=a.height)&&void 0!==s?s:1)*r.e/(null!==(c=a.width)&&void 0!==c?c:1));i=e>o?o:e}return i}},ZE2w:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("4dcN"),r=n("eOdZ");const o="collaborator_approve_invite";function a(e,t){return r.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function s(e,t){return r.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return n=>r.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{i.a.trackEvent(o,"success")}).catch(()=>i.a.trackEvent(o,"error"))}function l(e,t,n){return t=>{const{invited_user:i,status:o,board:{id:a}}=e;return r.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}},ZWtO:function(e,t,n){var i=n("4uTw"),r=n("9Nap");e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function r(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function o(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function a(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n){let r;const o=new Promise((a,c)=>{r=(r,o)=>{const{text:d,pinId:u,boardId:h,userId:p,didItId:b}=t,m=o();function f(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:d,pin:u,board:h,user:p,user_did_it_data:b,source:n}),o=""+l();r(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:d,sender:m.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:o,board:null,event_type:null,pin:u?m.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,s;r((n=e,i=o,s=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:s}})),a()}).catch(c)}m.conversations.data[e]?f():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;r(s(t)),f()})},r.getPromise=()=>o});return r}const u=(e,t,n)=>r=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;r(o(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr");function r({size:e,iconColor:t,backgroundColor:n,grayscale:r=!1}){const o=t||(r?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…",i=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},aFfM:function(e,t,n){var i=n("q1tI"),r=n("ulZh"),o=n.n(r),a=n("v/Q4"),s=n("U4JR"),c=n("QAzJ"),l=n("pLLR"),d=n("n6mq"),u=n("Lic6"),h=n("Xy1J"),p=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.g.LOADING}),b(this,"firstFragBuffered",!1),b(this,"hasPlaybackStarted",!1),b(this,"hasVideoSessionStarted",!1),b(this,"hasVideoSessionEnded",!1),b(this,"hls",null),b(this,"fragStartupTime",{}),b(this,"lastLevelSwitchKbps",null),b(this,"lastStallTime",null),b(this,"logSessionStartOnNextPlay",!1),b(this,"playerId",""),b(this,"videoSessionId",""),b(this,"videoVisibleTime",null),b(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0,videoCreatedTime:null}),b(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new o.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(o.a.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(o.a.Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(o.a.Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(o.a.Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(o.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),n.on(o.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(o.a.Events.ERROR,this.handleHlsError),this.hls=n}),b(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),b(this,"addSegment",e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},r="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let a=-1;o&&o.startLoadTime&&o.endLoadTime&&(a=o.endLoadTime-o.startLoadTime);const s={indicatedKbps:r.bitrate/h.a,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.a||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}}),b(this,"initializeSegments",e=>{const{segments:t}=this.playbackPerformance;if(!t.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!t.length&&"number"==typeof e.level){const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls.levels,r="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let a=-1;o&&o.startLoadTime&&o.endLoadTime&&(a=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.a;const s={indicatedKbps:r.bitrate/h.a,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.a||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n.clientWidth,viewportHeight:n.clientHeight,watchedDurationMs:0};t.push(s)}}else Object(u.c)("initializeSegmentsFailed",!0)}),b(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.c:null),b(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n}=this.props,{canPlayVideo:i}=this.state;Object(u.c)("handleCanPlayVideo",!0,{firstCanPlayEvent:!i,playing:n}),i||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),b(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,r=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.e,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.g.ENDED}),n&&n(e)}),b(this,"handleHlsError",(e,t)=>{var n,i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var r,a,s,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorMessage:(null===(r=t.err)||void 0===r||null===(a=r.message)||void 0===a?void 0:a.slice(0,100))||"unknown",errorResponse:(null===(s=t.response)||void 0===s||null===(c=s.text)||void 0===c?void 0:c.slice(0,100))||"unknown"};if(Object(u.c)("fatalError",!0,e),this.props.enableErrorRecovery)switch(t.type){case o.a.ErrorTypes.NETWORK_ERROR:null===(n=this.hls)||void 0===n||n.startLoad();break;case o.a.ErrorTypes.MEDIA_ERROR:null===(i=this.hls)||void 0===i||i.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.g.FAILED})}),b(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),b(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),b(this,"handleHlsFragLoading",(e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})}),b(this,"handleHlsFragLoaded",(e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.b);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)}),b(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.a)}),b(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),b(this,"handlePlaying",()=>{this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:h.g.PLAYING})}),b(this,"handlePause",()=>{this.state.playbackState!==h.g.STALLING&&this.state.playbackState!==h.g.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:h.g.PAUSED})}),b(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.g.ENDED&&this.setState({playbackState:h.g.SEEKING})}),b(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==h.g.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:h.g.STALLING})}),b(this,"handleTimeUpdate",e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.g.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),b(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),b(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),b(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),b(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),b(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("pause",this.handlePause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),b(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),b(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),b(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n={},userId:i}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:o,detailedErrors:a,downloadedKiloBytes:c,errorCode:l,errorName:d,errorReason:p,hasFatalError:b,playbackStartTimestamp:m,segments:f,srcString:g,loadStartTime:j,numStalls:y}=this.playbackPerformance,v=this.videoPlayerRef&&this.videoPlayerRef.video,x=e===h.f,O=x&&!this.hasVideoSessionStarted,_=!x&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&v&&(O||_)){var S;let O=-1;o&&j&&(O=o>j?o-j:0);let _=-1;o&&this.videoVisibleTime&&(_=o>this.videoVisibleTime?o-this.videoVisibleTime:0);const w={averageVideoKbps:-1,detailedErrors:a,downloadedKiloBytes:c,isCellular:!1,errorCode:l,errorName:d,errorReason:p,fatalError:b,nativeVideoDurationMs:v.duration*h.c||-1,numberOfStalls:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:m||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(S=window)&&void 0!==S&&S.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:v.clientWidth,startupPlayerHeight:v.clientHeight,startupTimeMs:O,startupLatencyMs:_,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:v.videoWidth,startupVariantHeight:v.videoHeight,videoUrl:g};if(x)this.videoSessionId=Object(h.i)(i),this.playerId=this.playerId||Object(h.h)();else if(f.length>0){const e=this.hls.levels,t=f[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=f.reduce((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/h.c}return t},0),i=f.reduce((e,t)=>e+(t.watchedDurationMs||0),0);let r=null,o=0,a=0;do{o+=f[a].watchedDurationMs,r=r||f[a].level,a+=1}while(a<f.length&&f[a].level===r);w.startupVariantKbps=t.indicatedKbps,w.startupVariantWatchedDurationMs=o,w.startupVariantWidth=t.sourceWidth,w.startupVariantHeight=t.sourceHeight,w.startupPlayerWidth=t.viewportWidth,w.startupPlayerHeight=t.viewportHeight,w.overallWatchedDurationMs=i,i>0?(w.averageVideoKbps=n/(i/h.c),w.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(w.averageVideoKbps=0,w.rebufferRate=0),w.segments=f}Object(u.a)(w,!0),Object(s.b)(3606,{...n,is_closeup_video:r,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:w}}),x?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(u.c)(x?"sessionStart":"sessionEnd",!0,t)}})}componentDidMount(){const{playing:e}=this.props;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(u.c)("videoMounted",!0),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.f,{initiator:"mount"}))}componentDidUpdate(e){const{playing:t,src:n,visible:i}=this.props;var r,o;(typeof(r=e.src)!=typeof(o=n)||(Array.isArray(o)?r.length!==o.length||o.some((e,t)=>!Array.isArray(r)||e.type!==r[t].type||e.src!==r[t].src):o!==r))&&this.initializeHls(),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(h.e,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.f,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.f,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(h.e,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:a,captions:s,controls:c,loop:l,loopOveride:u,onDurationChange:h,onFullscreenChange:b,onLoadedChange:m,onPause:f,onPlay:g,onPlayheadDown:j,onPlayheadUp:y,onSeek:v,onVolumeChange:x,playbackRate:O,playing:_,playsInline:S,poster:w,preload:C,src:T,volume:E}=this.props,{canPlayVideo:P,isManifestParsed:I}=this.state;return Object(p.jsx)(d.jb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:a,captions:s,controls:c,loop:void 0===u?l:u,onDurationChange:h,onEnded:this.handleEnded,onFullscreenChange:b,onLoadStart:this.handleLoadStart,onLoadedChange:m,onPause:f,onPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:j,onPlayheadUp:y,onReady:this.handleCanPlayVideo,onSeek:v,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:x,onWaiting:this.handleStalled,playbackRate:O,playing:I&&P&&_,playsInline:S,poster:w,preload:C,ref:this.setVideoPlayerRef,src:T,volume:E})}}t.a=Object(i.memo)((function(e){const t=Object(c.a)("web_hls_error_recovery")().anyEnabled,{country:n,isAuthenticated:i,isBot:r,isSocialBot:o,unauthId:s,userAgent:d}=Object(l.d)(),{browserName:h,browserVersion:b}=d,{contextLogData:f={}}=e,{view:g,viewParameter:j}=f,y=Object(a.a)(),v={browserName:h,browserVersion:b,country:n,isAuthenticated:i,isBot:r,isSocialBot:o,view:g,viewParameter:j};return Object(u.b)(v),Object(p.jsx)(m,{...e,userId:y.id||s,enableErrorRecovery:t})}))},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("1dBE");const o=Object(i.createContext)(null),a=()=>Object(i.useContext)(o),s=o.Provider,{Provider:c,useHook:l}=Object(r.c)("DesktopCoreLogin"),d=()=>{const{loginForMore:e}=l();return()=>{e&&e.setVisible(!0)}}},"b/K5":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],c=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),l=e=>e*(Math.PI/180);class d extends i.PureComponent{constructor(...e){super(...e),a(this,"animationTimer",null),a(this,"canvasRemovalTimer",null),a(this,"containerRef",Object(i.createRef)()),a(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,i=document.createElement("canvas");return i.style.position="absolute",i.style.left=0-(n-t)/2+"px",i.style.top=0-(n-e)/2+"px",i.style.pointerEvents="none",i.style.width=n+"px",i.style.height=n+"px",i.style.overflow="visible",i.width=n,i.height=n,i}),a(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const i=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(c(10,30)),color:s[Math.floor(Math.random()*s.length)],degree:Number(c(0,360).toFixed(1)),speed:Math.round(c(0,25)),friction:.9,opacity:Number(c(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,n,i)=>{window.requestAnimationFrame(()=>r(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(l(e.degree)),e.y+=e.speed*Math.sin(l(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};r(i,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(o.jsx)(r.f,{ref:this.containerRef,position:"relative",children:this.props.children})}}a(d,"defaultProps",{delay:0});var u=d,h=n("Ye/N"),p=n("vvax");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),f=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class g extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{isInitialized:!1}),b(this,"containerRef",Object(i.createRef)()),b(this,"pinDestinationRef",Object(i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:i}=this.props;n&&i&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(i,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:a}=this.props,{description:s="",images:c}=t,{height:l=0,width:d=0,url:b=""}=(null==c?void 0:c["236x"])||{},{isInitialized:g}=this.state,{mask:j,imageContainer:y}=((e,t,n,i)=>{var r,o,a;let s,c,l={};const d=null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect(),u=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect(),h=null===(a=i.current)||void 0===a?void 0:a.getBoundingClientRect();if(u&&d&&h){l={left:d.left-u.left,top:d.top-u.top};const e={x:h.left-d.left,y:h.top-d.top},t={x:(h.width-d.width)/2,y:(h.height-d.height)/2};s=`translate(${e.x}px, ${e.y}px)`,c=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:l.left,top:l.top,width:e?null==h?void 0:h.width:null==d?void 0:d.width,height:e?null==h?void 0:h.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(g,this.containerRef,n,this.pinDestinationRef);return Object(o.jsx)(i.Fragment,{children:Object(o.jsxs)(r.f,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[Object(o.jsx)(r.f,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:j},children:Object(o.jsx)(r.f,{dangerouslySetInlineStyle:{__style:y},children:Object(o.jsx)(r.x,{alt:null!=s?s:"",src:b||"",naturalHeight:l||1,naturalWidth:d||1})})}),Object(o.jsx)(r.f,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(v=g,{pointerEvents:"none",opacity:v?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:Object(o.jsxs)(r.f,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:m(g)},children:[Object(o.jsx)(u,{delay:1250,startAnimation:g,children:Object(o.jsx)(r.C,{rounding:2,width:270,height:180,children:Object(o.jsxs)(r.f,{display:"flex",height:"100%",width:"100%",children:[Object(o.jsx)(r.f,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),Object(o.jsxs)(r.f,{display:"flex",width:80,direction:"column",children:[Object(o.jsx)(r.f,{color:"lightGray",flex:"grow",marginBottom:1}),Object(o.jsx)(r.f,{color:"lightGray",flex:"grow"})]})]})})}),Object(o.jsx)(r.f,{paddingX:2,dangerouslySetInlineStyle:{__style:f(g)},children:Object(o.jsx)(r.u,{align:"center",children:e?Object(p.b)(h.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=a?a:""}):Object(p.b)(h.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=a?a:""})})})]})})]})});var v}}b(g,"defaultProps",{firstRepin:!1})},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},c4Fo:function(e,t,n){var i=n("q1tI"),r=n("clxp"),o=n("zXAL"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:r}=this.props;r?i.viewExperience(t,n,!1,r):i.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.completeExperience(t,n,r,!1,{},!1,o):r?i.completeExperience(t,n,r):i.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.dismissExperience(t,n,r,!1,o):r?i.dismissExperience(t,n,r):i.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:o}=n;return Object(a.jsx)(r.a,{name:`Experience(${i}:${o})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(a.jsx)(c,{})}}t.a=Object(o.a)(l)},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dKiF:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));const i=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),r=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),o=(e,t=r)=>n=>{const i=[];return function(...r){const o=this,a=i.find(e=>e.context===o&&t(e.args,r));if(a)return a.result;const s={context:o,args:r,result:n.apply(this,r)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},a=o(1),s=o()},dMCU:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),r=n("v/Q4"),o=n("aOj9"),a=n("nKUr");function s(e){const t=t=>{const n=Object(i.useDispatch)(),{isAuth:s,isLimitedLogin:c}=Object(r.a)(),l=Object(o.e)(),d=!s||c?e=>e=>{e&&e.stopPropagation(),l()}:e=>e;return Object(a.jsx)(e,{authAction:d,dispatch:n,isAuth:s,isLimitedLogin:c,...t})};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},exCO:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("gTC0"),r=n("nKUr");function o({accessibilityLabel:e,handleClick:t,icon:n,iconColor:o,isSVG:a,iconOnly:s}){return Object(r.jsx)(i.a,{accessibilityLabel:e,color:o,onClick:t,icon:n,isSVG:a,iconOnly:s})}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return u}));var i=n("exCO"),r=n("7pfs"),o=n("n6mq"),a=n("nKUr");const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function c({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:c}){return Object(a.jsx)(r.a,{children:({active:r,focused:l,hovered:d,onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:f})=>{let g={borderRadius:24};if(d){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";g={...g,backgroundColor:e}}if(r){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";g={...g,backgroundColor:e}}return l&&(g={...g,...s}),Object(a.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:f,onClick:i,children:Object(a.jsx)(o.f,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:g},children:Object(a.jsxs)(o.f,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===c&&Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.v,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),Object(a.jsx)(o.f,{paddingX:3})]}),Object(a.jsx)(o.cb,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var l=n("Ye/N"),d=n("CgR/");const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:r,isSVG:o,iconOnly:s})=>{const d="icon"===e,u=o&&r?r:"share",h={accessibilityLabel:l.a._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:u};return d?Object(a.jsx)(i.a,{...h,isSVG:o,iconOnly:s,iconColor:t}):Object(a.jsx)(c,{...h,buttonColor:"lightGray",buttonText:l.a._("Send","Text for button to send this pin","Text for button to send this pin")})};t.default=d.a.makeSendShareButton(u)},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},r={type:"CLOSE_CONVERSATIONS_DROPDOWN"},o=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),a=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(r)})},"g/XF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("JW66"),r=n("zwad"),o=n("n6mq"),a=n("nKUr");function s({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,Object(a.jsx)(o.f,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:Object(a.jsxs)(o.f,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&Object(a.jsx)(o.f,{marginBottom:2,children:Object(a.jsx)(o.cb,{color:"white",size:"sm",children:r.a.parse(e).hostname||e})}),Object(a.jsx)(o.f,{maxHeight:144,children:Object(a.jsx)(o.cb,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),r=n.n(i);function o(e,t=!1){return n=>{if(!r()(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);r()(n[a])||t&&Array.isArray(n[a])?i[s]=o(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},gONw:function(e,t,n){var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;var a,s,c;return i?Object(o.jsxs)(r.f,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(o.jsx)(r.f,{children:Object(o.jsx)(r.C,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(o.jsx)(r.x,{alt:"",color:"",fit:"cover",naturalHeight:null!==(a=n.height)&&void 0!==a?a:1,naturalWidth:null!==(s=n.width)&&void 0!==s?s:1,src:null!==(c=n.url)&&void 0!==c?c:""}):Object(o.jsx)(r.f,{color:"lightGray",height:40,width:40})})}),Object(o.jsx)(r.f,{padding:2,children:Object(o.jsx)(r.u,{size:"sm",children:e})})]}):Object(o.jsxs)(r.f,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(o.jsx)(r.f,{children:Object(o.jsx)(r.v,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(o.jsx)(r.f,{marginStart:3,children:Object(o.jsx)(r.cb,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var c=n("Ye/N"),l=n("w70y"),d=n("U4JR"),u=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:a,minHeight:h,onBoardSelected:p})=>{const[b,m]=Object(i.useState)(-1),f=Object(u.c)(),{data:g=[],error:j,isLoaded:y}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),v=(x=g,Object(i.useMemo)(()=>x&&x.length?x.map(e=>e.title):[],[x]));var x;Object(i.useEffect)(()=>{y&&t&&f&&(j?f.error():f.stop())},[y]);const O=()=>{m(-1)},_=(t,n)=>{const i=b===n;return Object(o.jsx)("li",{children:Object(o.jsx)(r.bb,{onMouseEnter:()=>(e=>{m(e)})(n),onMouseLeave:O,onTap:()=>(e=>{p(v[e],!1),Object(d.b)(101,{component:13025,element:23})})(n),children:Object(o.jsx)(s,{selected:i,name:t,inFlyoutExp:e,image:a})})},n)};return y?v&&v.length?e?Object(o.jsx)("div",{children:Object(o.jsx)("ul",{children:v.map(_)})}):t?Object(o.jsxs)(r.f,{children:[Object(o.jsx)(r.f,{marginTop:5,marginStart:6,marginBottom:3,children:Object(o.jsx)(r.cb,{children:c.a._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(o.jsx)("ul",{children:v.map(_)})]}):Object(o.jsxs)(r.f,{children:[Object(o.jsx)(r.f,{marginTop:2,paddingX:5,children:Object(o.jsx)(r.cb,{children:c.a._("Suggested board names")})}),Object(o.jsx)("ul",{children:v.map(_)})]}):null:Object(o.jsx)(r.f,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:h||"",children:Object(o.jsx)(r.U,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return _e}));var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("FDmi"),s=n("hFfv"),c=n("v/Q4"),l=n("oVol"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{textValue:this.props.initialTextValue||""}),h(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),h(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},r="conversation_share_suggestion"===i.type,c=r?(i.users||[]).filter(e=>e.id!==n):[];return Object(u.jsxs)(d.f,{paddingX:4,width:360,children:[Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",paddingY:4,children:[Object(u.jsx)(d.f,{height:48,paddingX:1,width:56,children:r?Object(u.jsx)(s.a,{collaborators:c.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(u.jsx)(a.a,{name:i.full_name||i.email||" ",src:i.image_large_url})}),Object(u.jsxs)(d.f,{direction:"column",flex:"grow",marginStart:1,children:[Object(u.jsx)(d.cb,{weight:"bold",children:r?c.map(e=>e.first_name||e.full_name).join(", "):i.full_name||i.email}),Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:r||i.username?i.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(u.jsx)(d.w,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.f,{paddingX:1,children:Object(u.jsx)(d.db,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(u.jsx)(d.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(u.jsx)(d.g,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function b(e){const t=Object(c.a)();return Object(u.jsx)(p,{...e,viewerId:t.isAuth?t.id:""})}var m=n("fZbY");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),f(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),f(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),f(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),f(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(u.jsxs)(d.f,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(u.jsxs)(d.f,{display:"flex",alignItems:"center",paddingY:4,children:[Object(u.jsx)(d.f,{flex:"grow",children:Object(u.jsx)(d.cb,{weight:"bold",children:o.a._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(u.jsx)(d.w,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(u.jsxs)(d.f,{display:"flex",direction:"column",children:[Object(u.jsx)(d.f,{paddingY:1,marginBottom:4,children:Object(u.jsx)(d.db,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(u.jsx)(d.db,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(u.jsx)(d.f,{paddingY:4,display:"flex",justifyContent:"center",children:Object(u.jsx)(d.g,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(m.a)(this.state.emailValue)})})]})]})}}var j=n("yweb"),y=n("vvax");function v({email:e,isValid:t,onClick:n,showSendEmailText:i}){const r=Object(j.c)(),o=t?r._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):r._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?Object(y.b)(r._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(y.b)(r._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(u.jsx)(d.f,{marginBottom:4,children:Object(u.jsx)(d.bb,{onTap:()=>{t&&n()},children:Object(u.jsxs)(d.f,{display:"flex",children:[Object(u.jsx)(d.f,{height:48,width:48,children:Object(u.jsx)(a.a,{name:e})}),Object(u.jsxs)(d.f,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(u.jsx)(d.cb,{weight:"bold",size:"lg",children:s}),Object(u.jsx)(d.cb,{size:"sm",color:"gray",children:o})]})]})})})}var x=n("iS6d"),O=n("w1Xl"),_=n("8vQR"),S=n("4cpq");function w(e){const{shouldShowViewChat:t,isSent:n,onClickSend:i,onViewConversation:r}=e;return Object(u.jsx)(d.f,{display:"flex",children:t?Object(u.jsx)(d.bb,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:Object(u.jsxs)(d.f,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(u.jsx)(d.cb,{color:"darkGray",size:"md",truncate:!0,weight:"bold",children:o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(u.jsx)(d.f,{marginStart:1,children:Object(u.jsx)(d.v,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(u.jsx)(S.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(u.jsx)(d.g,{color:n?"gray":"red",disabled:n,inline:!0,onClick:i,size:"lg",text:n?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var C=n("U4JR");function T(e){var t,n,r;const{item:o,textFieldValue:l,onSendMessage:h,onShowSendDraft:p,onViewConversation:b,sentHistory:m}=e,[f,g]=Object(i.useState)(!1),[j,y]=Object(i.useState)(!1),[v,S]=Object(i.useState)(!1),T=o.id||"string"==typeof o.email&&o.email||"",E=T in m,P=""!==l,I=null!==(t=m[T])&&void 0!==t?t:"",R=Object(c.a)().id||"",k="conversation_share_suggestion"===o.type,A=k?(o.users||[]).filter(e=>e.id!==R):[],D=o.debug_reason&&o.debug_reason.readable_reason;let L="";"string"!=typeof o.full_name||o.full_name.match(/^\s*$/)?"string"!=typeof o.email||o.email.match(/^\s*$/)||(L=o.email):L=o.full_name;return f?Object(u.jsx)(d.f,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(u.jsx)(O.a,{identifier:null!==(n=o.id)&&void 0!==n?n:o.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:A.length>1})}):Object(u.jsxs)(d.f,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(u.jsx)(d.bb,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(o)},children:Object(u.jsx)(d.j,{onMouseEnter:()=>{y(!(P||v&&E))},onMouseLeave:()=>y(!1),children:Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",children:[Object(u.jsx)(d.f,{height:48,width:48,children:k?Object(u.jsx)(s.a,{collaborators:A.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(u.jsx)(a.a,{accessibilityLabel:"",name:L,src:o.image_medium_url})}),Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%",children:[Object(u.jsxs)(d.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(u.jsx)(d.f,{marginBottom:1,children:Object(u.jsx)(d.cb,{color:"darkGray",truncate:!0,weight:"bold",children:k?A.map(e=>e.first_name||e.full_name).join(", "):L})}),P&&D?Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:D}):"string"==typeof o.username&&Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:o.username})]}),Object(u.jsxs)(d.f,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:[j&&Object(u.jsx)(d.f,{display:"flex",marginEnd:2,children:Object(u.jsx)(_.a,{identifier:null!==(r=o.id)&&void 0!==r?r:o.email,onHide:()=>g(!0),component:13029,element:11917})}),Object(u.jsx)(w,{shouldShowViewChat:E,isSent:v,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=l?1044:1039;Object(C.b)(101,{component:13029,element:i,entered_query:l,result_index:n+1,rs:null===(t=o.debug_reason)||void 0===t?void 0:t.reason})})(),S(!0),h(o),y(!1)},onViewConversation:()=>b(I)})]})]})]})})}),Object(u.jsx)(x.a.Consumer,{children:e=>{var t;return e?Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(u.jsx)(d.u,{color:"blue",size:"sm",children:null===(t=o.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var E=n("ANjH"),P=n("ZdHo"),I=n("fhk9"),R=n("w70y");var k=Object(E.compose)(Object(R.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(R.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:a,onShowImportContacts:s,sentHistory:c,value:l,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:p},paddingX:b}=e,f=Object(r.useSelector)(e=>e.social.shareSuggestions[l]||[]);Object(i.useEffect)(()=>{if(!l&&h){const e=f.length>0?7511:7512;Object(C.b)(e,{component:56,view:70,viewParameter:256})}},[h]);const g=Object(r.useDispatch)(),j=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{g(Object(P.e)(e))})(t),g(I.a)},y=f.map((e,t)=>{const i=`${t}-${l?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:n,onShowSendDraft:a,onViewConversation:j,sentHistory:c,textFieldValue:l};return Object(u.jsx)(T,{...r},i)}),x=0===f.length&&(""===l&&!h||""!==l&&!p);return Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.f,{display:"flex",paddingX:b,position:"relative",children:Object(u.jsx)(d.f,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(u.jsx)(d.Q,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:l})})}),Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(u.jsxs)(d.f,{paddingX:b,children:[Object(u.jsx)(d.f,{paddingY:x?2:0,children:Object(u.jsx)(d.U,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:x})}),Object(u.jsxs)(d.f,{children:[y,l&&Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.j,{children:Object(u.jsx)(v,{email:l,isSend:!0,isValid:Object(m.a)(l),onClick:()=>a({email:l,full_name:l}),showSendEmailText:!1})}),!x&&Object(u.jsx)(d.f,{width:"100%",children:Object(u.jsx)(d.j,{children:Object(u.jsx)(d.bb,{onTap:s,children:Object(u.jsxs)(d.f,{alignItems:"center",direction:"row",display:"flex",children:[Object(u.jsx)(d.f,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(u.jsx)(d.v,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(u.jsx)(d.f,{paddingX:3,children:Object(u.jsx)(d.cb,{weight:"bold",children:o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})})),A=n("d7ng"),D=n("ZtJp"),L=n("WM6B");var M=({text:e})=>Object(u.jsx)(d.cb,{align:"center",size:"sm",children:Object(u.jsx)(L.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var N=({iconSize:e,marginEnd:t,children:n})=>Object(u.jsx)(d.f,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const B=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var F=({onClick:e,iconColor:t,iconSize:n,backgroundColor:r,invitePath:a,marginEnd:s})=>{const[c,l]=Object(i.useState)(!1),h=Object(i.useRef)(null);return Object(i.useEffect)(()=>{B().then(({default:e})=>{e.isSupported()&&(e=>{if(!h.current||!B)return;new e(h.current,{text:()=>a}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[a]),Object(u.jsx)(N,{iconSize:n,marginEnd:s||!1,children:Object(u.jsxs)(d.f,{ref:h,children:[Object(u.jsx)(d.bb,{onTap:()=>{e(),l(!0),setTimeout(()=>{l(!1)},3e3)},children:Object(u.jsx)(d.f,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:Object(u.jsx)(D.a,{backgroundColor:r,iconColor:t,size:n})})}),Object(u.jsx)(M,{text:c?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},U=n("SNfw"),V=n("K316"),H=n("TvzZ");function z({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const r=t||(i?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return Object(u.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(u.jsx)("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(u.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:r,children:[Object(u.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(u.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(u.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(u.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(u.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(u.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(u.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(u.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(u.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}function G({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:r}){const a=Object(c.a)();return t&&[l.a.BOARD,l.a.PINNER,l.a.USER].includes(e.type)&&a.isAuth&&(e.id===a.id||a.isEmployee)?Object(u.jsxs)(N,{iconSize:i,marginEnd:!0,children:[Object(u.jsx)(d.bb,{fullWidth:!1,onTap:t,children:Object(u.jsx)(z,{backgroundColor:r,iconColor:n,size:i})}),Object(u.jsx)(M,{text:o.a._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var W=n("mBfy"),q=n("QAzJ"),K=n("udob");const Y="#EFEFEF",X="#333333";function $({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#1877f2";return Object(u.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(u.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function Z({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#0DC2FF";return Object(u.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function Q({size:e=48,grayscale:t=!1}){const n=t?X:"#FFFFFF",i=t?Y:"#25d366";return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function J({size:e=48,grayscale:t=!1}){const n=t?X:"#fff",i=t?Y:"#00b900";return Object(u.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),Object(u.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}var ee=n("nGHF");function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=48,ie="#111111",re="#EFEFEF",oe={backgroundColor:"#ffffff",border:"none",padding:0},ae=e=>{Object(H.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},V.a)};class se extends i.Component{constructor(...e){super(...e),te(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),te(this,"mounted",!1),te(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(K.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),te(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||K.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),te(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===l.a.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case l.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case l.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case l.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);K.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(A.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!W.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e&&(this.openLineDialog(),t=952),this.props.onExternalSend&&this.props.onExternalSend(),Object(C.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ae(()=>{K.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ae(()=>{K.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(K.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){K.a.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){K.a.shareLineInvite(this.getShareOptions(8))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n}=this.props;return Object(u.jsxs)(i.Fragment,{children:[Object(u.jsxs)(d.f,{display:"flex",justifyContent:"around",children:[n&&Object(u.jsxs)(N,{iconSize:ne,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":o.a._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:oe,children:Object(u.jsx)(J,{size:48})}),Object(u.jsx)(M,{text:o.a._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),Object(u.jsxs)(N,{iconSize:ne,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:oe,tabIndex:"-1",children:Object(u.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(u.jsx)(Q,{size:ne})})}),Object(u.jsx)(M,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(u.jsxs)(N,{iconSize:ne,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:oe,children:Object(u.jsx)($,{size:ne})}),Object(u.jsx)(M,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(u.jsxs)(N,{iconSize:ne,marginEnd:!n,children:[Object(u.jsx)("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:oe,children:Object(u.jsx)(Z,{size:ne})}),Object(u.jsx)(M,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&Object(u.jsx)(N,{iconSize:ne,marginEnd:!1,children:this.renderEmail()})]}),Object(u.jsxs)(d.f,{display:"flex",paddingY:4,children:[Object(u.jsx)(G,{backgroundColor:re,iconColor:ie,iconSize:ne,onCreatePincodeClick:t,sharedObject:e}),Object(u.jsx)(F,{backgroundColor:re,iconColor:ie,iconSize:ne,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink"),marginEnd:n},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return Object(u.jsxs)(N,{iconSize:ne,marginEnd:!0,children:[Object(u.jsx)(d.f,{display:"inlineBlock",children:Object(u.jsx)("button",{"aria-label":o.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:oe,children:Object(u.jsx)(U.a,{backgroundColor:re,iconColor:ie,size:ne})})}),Object(u.jsx)(M,{text:o.a._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(u.jsxs)(d.f,{paddingX:t,children:[Object(u.jsx)(d.f,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center",children:Object(u.jsx)(d.cb,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(u.jsx)(d.f,{paddingX:2,children:this.renderShareOptions()})]})}}function ce(e){const t=Object(q.a)("web_auth_line_share"),n=Object(c.a)().isAuth&&t().anyEnabled;return Object(u.jsx)(se,{...e,toastManagerContext:Object(ee.b)(),viewer:Object(c.a)(),showLineShare:n})}var le=n("7w6Q"),de=n("eOdZ"),ue=n("M1Uz");function he(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var pe=n("ENhS");const be=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var me=Object(r.connect)(null,e=>({createConversation:t=>e(Object(P.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(null),[s,c]=Object(i.useState)({}),[h,p]=Object(i.useState)(""),[m]=Object(i.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:f}=Object(ee.b)(),{surface:j}=Object(pe.b)(),y=(t,i)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,r=i.id;le.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(C.b)(180,{element:276,objectId:r,conversation_id:t,pin_id:n})})(t,i)},v=e=>{le.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f(({onHide:e})=>Object(u.jsx)(ue.a,{color:"red",duration:5e3,onHide:e,text:t}))},x=async(t,n,i)=>{const{createConversation:r,sharedObject:o,sendType:a}=e,l=o.id,d={emails:n,user_ids:t,text:i,source:he(j)};d[a]=l;const u=de.a.create("ConversationsResource",d);try{const e=await u.callCreate(),i=e&&e.resource_response.data;r(i),y(i.id,"pin"===a?l:null),t.length>0?c({...s,...be(t,i.id)}):c({...s,...be(n,i.id)})}catch(h){v(h)}},O=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:r,sharedObject:o,sendType:a}=e;let l;switch(a){case"pin":l="pinId";break;case"board":l="boardId";break;case"did_it":l="didItId";break;case"user":case"pinner":l="userId"}const d=l?Object(P.g)(t,{text:n,[l]:o.id,source:he(j)}):void 0;d&&(r(d),d.getPromise().then(()=>{y(t,"pin"===a?o.id:null),c({...s,[t]:t})}).catch(e=>{v(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?x([],[t.email],n):x([t.id],[],n),Object(C.b)(101,{component:56,element:276})},_=(t,n)=>{e.sendType!==l.a.SEARCH||n?O(t,n):de.a.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e)).then(e=>{const n=e.message;O(t,n)})},S=()=>{n(!1),a(null)},{onCreatePincodeClick:w,onShowImport:T,sendType:E,sharedObject:I,isFlyout:R,onHide:A,onExternalSend:D}=e,L="email"===r?Object(u.jsx)(g,{initialTextValue:m,isFlyout:R,objectId:I.id,objectType:E,onCancelDraft:S,onHide:A,onSendMessage:_}):Object(u.jsx)(b,{initialTextValue:m,isFlyout:R,objectId:I.id,objectType:E,onCancelDraft:S,onHide:A,onSendMessage:_,recipient:"object"==typeof r?r:void 0});return t?L:Object(u.jsxs)(d.f,{color:"white",children:[Object(u.jsx)(ce,{onCreatePincodeClick:w,onEmailIconClick:()=>{n(!0),a("email")},onExternalSend:D,onHide:A,paddingX:4,sharedObject:I}),Object(u.jsx)(d.f,{children:Object(u.jsx)(k,{isFlyout:R,onChange:({value:e})=>{p(e),Object(C.b)(4113,{component:13029,element:1043})},onHide:A,onSendMessage:_,onShowImportContacts:T,onShowSendDraft:e=>{n(!0),a(e),p("")},paddingX:4,sentHistory:s,value:h})})]})})),fe=n("TSYQ"),ge=n.n(fe),je=n("+zF7");const ye=["facebook","google"];function ve(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}function xe(e){const t=ge()("sendShare",e.network),n=(i=e.network,r=e.email,"facebook"===i?o.a._("Friends who are on Pinterest"):"google"===i&&r&&-1!==r.indexOf("@gmail")?r:null);var i,r;return Object(u.jsx)("a",{onClick:e.onClick,role:"button",children:Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("em",{className:"icon"}),Object(u.jsxs)("div",{className:"networkInfo",children:[Object(u.jsx)("h4",{className:"title",children:ve(e.network)}),n?Object(u.jsx)("div",{className:"subtitle",children:n}):null]})]})})}function Oe({onBack:e}){const t=Object(c.a)(),n=t.isAuth?t.email:null,i=ye.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return Object(u.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"backNav",children:Object(u.jsxs)("a",{onClick:e,role:"button",children:[Object(u.jsx)("span",{className:"icon"}),Object(u.jsx)("span",{className:"label",children:o.a._("Back")})]})}),Object(u.jsx)("div",{className:"prompt",children:o.a._("Upload contacts from...")})]}),Object(u.jsx)("ul",{className:"socialConnectOptions",children:i.map(e=>Object(u.jsx)("li",{style:{borderLeft:"none"},children:Object(u.jsx)(xe,{email:n,network:e,onClick:()=>function(e){je.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function _e({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:r,onHide:o,sendType:a,sharedObject:s,viewType:c,viewParameter:l}){const[h,p]=Object(i.useState)(!1),[b,m]=Object(i.useState)(!1);Object(i.useEffect)(()=>(Object(C.b)(7120,{objectId:s.id,view:c,viewParameter:l}),()=>{Object(C.b)(7121,{objectId:s.id,view:c,viewParameter:l});const e=b?7493:7492;Object(C.b)(e,{view:c,viewParameter:l})}),[]);const f=()=>{p(!0)},g=()=>{p(!1)},j=()=>{m(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(u.jsx)("div",{className:e,children:Object(u.jsx)(Oe,{onBack:g})})})():Object(u.jsx)(d.f,{overflow:"hidden",children:Object(u.jsx)(me,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:f,onMessageSent:j,onExternalSend:r,sendType:a,sharedObject:s})})}},hFfv:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),r=n("nKUr");const o=e=>{const{size:t,name:n,textLayout:o}=e,a=`calc(${Math.sin((s=45,s*(Math.PI/180)))} * (${t}) / 2)`;var s;const c=Object(r.jsx)(i.b,{name:n?[...n][0].toUpperCase():""});switch(o){case"bottomLeft":return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:a,paddingRight:a}},children:c});case"topLeft":return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:a,paddingRight:a}},children:c});default:return Object(r.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:c})}};function a(e){const{collaborators:t,outline:n=!1,size:a="fit"}=e,{colorGray0:s,colorGray100:c}=Object(i.kb)(),l="fit"===a?"100%":32,d="fit"===a?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,l).map((e,n)=>[e,t[n]]);return Object(r.jsxs)(i.f,{color:"white",overflow:"hidden",rounding:"circle",width:l,height:d,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:"0 0 0 2px "+s}:{},willChange:"transform"}},children:[Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map(([e,t={name:"",src:void 0}],n)=>{const{width:a,height:s,top:l,left:d,textLayout:u}=e,{name:h,src:p}=t;return Object(r.jsxs)(i.f,{position:"absolute",width:a,height:s,dangerouslySetInlineStyle:{__style:{top:l,left:d}},children:[null!=p?Object(r.jsx)(i.x,{alt:h,color:c,src:p,naturalWidth:1,naturalHeight:1,fit:"cover"}):Object(r.jsx)(o,{name:h,textLayout:u,size:s}),Object(r.jsx)(i.f,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)})]})}},hgQt:function(e,t,n){var i=n("Juji"),r=n("4sDh");e.exports=function(e,t){return null!=e&&r(e,t,i)}},iS6d:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(!1)},"iYS+":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),r=n("n6mq"),o=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(o.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(o.jsxs)(r.f,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(o.jsx)(r.f,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(o.jsx)(r.v,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(o.jsx)(r.v,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(o.jsxs)(r.f,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(o.jsx)(r.cb,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(o.jsx)(r.f,{alignItems:"center",display:"flex",children:!c&&i&&Object(o.jsx)(r.f,{marginBottom:2,marginTop:1,children:Object(o.jsx)(r.cb,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},idmN:function(e,t,n){var i=n("ZWtO"),r=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],d=i(e,l);n(d,l)&&r(c,o(l,e),d)}return c}},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},jZXB:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("zir5");class r extends i.a{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},jgRP:function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},jmst:function(e,t,n){var i=n("q1tI"),r=n("i8i4"),o=n.n(r),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const d=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends i.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=o.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(d,i),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,r=this.props.trackFullVisible?e.intersectionRatio>=1:i,o=this.props.trackFullVisible?0===e.intersectionRatio:!r;!this.seen&&r?this.enter(e):this.seen&&o&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return Object(a.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},kugi:function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var i=n("zir5"),r=n("4xvr"),o=n("eOdZ");class a extends i.a{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,i){const a={add_to_experiment:!!t,experiment_name:e};if(i&&(a.override_group=i),n&&(a.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new r.b("ActivateExperimentResource",e=>({experiments:e}))),this._queuedResource.enqueue(a);else{o.a.create("ActivateExperimentResource",a).callCreate({showError:!1})}}}},lNaY:function(e,t,n){n.d(t,"a",(function(){return a}));const i=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function o(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function a(e,t,n){const i=[{images:e}],a=t&&t.additional_images;return{carousel_slots:r((null!=a?a:[]).reduce(o,i)),index:n||0,id:t.id}}},lm6u:function(e,t,n){n.d(t,"a",(function(){return R}));var i=n("q1tI"),r=n("/MKj"),o=n("1inl"),a=n("3z7j"),s=n("ajUs"),c=n("Ye/N");var l=n("x12c"),d=n("eOdZ"),u=n("G35+"),h=n("M1Uz"),p=n("v/Q4"),b=n("Wrea"),m=n("Vzit"),f=n("xjIv"),g=n("WnNx"),j=n("n6mq"),y=n("U4JR"),v=n("NjDU"),x=n("6G9P"),O=n("B6Tf"),_=n("seP0"),S=n("nGHF"),w=n("oN2T"),C=n("EC67"),T=n("nKUr");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi;class I extends i.Component{constructor(...e){super(...e),E(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),E(this,"unmounted",!1),E(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),E(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),E(this,"close",()=>{const{onClose:e,boardPickerStopwatch:t}=this.props;e&&e(),t&&t.abort("boardPickerClose"),Object(y.b)(2502,{component:5,element:610})}),E(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),E(this,"getPinResource",(e,t,n)=>{var i,r;const{color:o,location:a,pin:c,method:l,guid:u,additionalCreateFields:h,advertiser_id:p,previousHistory:b}=this.props;let m;c.id&&(m=Object(s.a)(c,a,b)||(c.tracking_params||"")+"~0");const f=c.id?"RepinResource":"PinResource",g=!c.id&&c.image_url?Object(x.b)(c.image_url,c.link):(null===(i=c.images)||void 0===i||null===(r=i.orig)||void 0===r?void 0:r.url)||"",j={...h,board_id:t||"",color:o||"",clientTrackingParams:m,description:this.state.pinDescription,guid:u||"",link:c.link,image_base64:c.image_base64,image_url:g,is_buyable_pin:!1,is_removable:c.promoted_is_removable,media_upload_id:c.media_upload_id,method:l||"",pin_id:c.id||"",section:n,title:c.title||"",...p?{advertiser_id:p}:Object.freeze({})};if(!e){const{facebook:e,twitter:t}=this.state.sharing;j.share_facebook=e,j.share_twitter=t}return d.a.create(f,j)}),E(this,"triggerPubSubs",e=>{l.a.instance.publish("currentUser","pinCreated",e),l.a.instance.publish(e.board.id,"pinCreated",{pin:e})}),E(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e)),e.catch(e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}),E(this,"handleLogToastClick",()=>{Object(y.b)(101,{component:20,view:52})}),E(this,"showSuggestedBoardToast",(e,t,n,r)=>{const{toastManagerContext:o,shouldShowToast:a}=this.props;if(a&&e){const{name:t,url:n,image_thumbnail_url:r}=e;o.showOneToast(({onHide:e})=>Object(T.jsx)(h.a,{duration:O.a,onHide:e,text:Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)(j.cb,{children:c.a._("You might also like","Post repin suggested board","Post repin suggested board")}),Object(T.jsx)(j.cb,{weight:"bold",children:t})]}),href:n,imageUrl:r,onClick:this.handleLogToastClick}))}}),E(this,"showBoardSavedToast",(e,t)=>{const{toastManagerContext:n}=this.props;n.showToast(({onHide:n})=>{var i,r;return Object(T.jsx)(h.a,{duration:O.a,onHide:n,text:Object(x.a)(e.name,t),href:t?`${null!==(i=e.url)&&void 0!==i?i:""}${t.slug}`:e.url,imageUrl:null!==(r=e.image_cover_url)&&void 0!==r?r:"",onClick:this.handleLogToastClick})})}),E(this,"dismissModal",e=>{const{resolve:t,newPin:n}=this.state;t&&t(n)}),E(this,"fetchBoardRecommendation",e=>d.a.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(e=>Promise.resolve(e.resource_response.error?null:e.resource_response.data[0]))),E(this,"handleBoardSaveSuccess",(e,t,n,i)=>{var r,o;const{action:s,dispatch:l,hideSuccessAnimation:d,homeTakeoverExperience:u,pin:h,setCompletionPromise:p,shouldShowToast:j,viewerUserId:x}=this.props;l(Object(m.d)());const O=e.resource_response.data,_=this.makeCancelablePromise(new Promise((e,r)=>{this.triggerPubSubs(O);const o=this.state.pinDescription.match(P)||[];o.length>0&&Object(y.b)(2,{element:10273,hashtags:JSON.stringify(o),objectId:this.props.pin.id});const a=d?()=>{}:()=>{j&&this.showBoardSavedToast(t,n),this.safeSetState({displaySuccessAnimation:!0,modalTitle:c.a._("Board created","Modal title after creating a new board","Modal title after creating a new board"),newPin:O,resolve:e})};"repin"===s?(this.fetchBoardRecommendation(O).then(e=>{this.showSuggestedBoardToast(e,O,n,i)}),i?a():e(O)):("create"===s&&u&&500840===u.experience_id&&(l({type:"PIN_CREATED_VIA_CREATOR_CHECKLIST",payload:{pin_created_via_creator_checklist:!0}}),Object(y.b)(7510,{component:13233})),i?a():e(O))}));if(i||l(Object(g.d)(h.id)),p(_),l(Object(w.d)(t)),l(Object(b.d)({boardId:t.id,sectionId:n&&n.id,increment:1})),x&&(l(Object(v.c)({userId:x,increment:1})),l(Object(m.d)())),n||!t.image_cover_url){const{image_url:e,images:n}=h;t.image_cover_url=e||n&&n["236x"]&&n["236x"].url||"",l(Object(w.e)({},t))}n&&l(Object(a.a)(n.id)),l(Object(f.a)(h.id,t.id,null!==(r=t.name)&&void 0!==r?r:"",null!==(o=t.url)&&void 0!==o?o:"",O.id))}),E(this,"handleSaveToBoard",(e,t,n)=>{const{boardPickerStopwatch:i,onToggleModal:r,shouldShowToast:a}=this.props;i&&i.abort("boardPickerSubmit"),a&&!n&&(this.close(),this.showBoardSavedToast(e,t));const s="secret"===(e.privacy||""),c={board:t?t.id:e.id,state:O.b.LOADING};this.safeSetState({boardSavedTo:c},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(i=>{this.safeSetState({boardSavedTo:Object.assign(c,{state:O.b.SUCCESS})},()=>this.handleBoardSaveSuccess(i,e,t,n)),r&&!n&&r(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),o.a.showError(e.message_detail||e.message);const t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),r&&r(!1)})})}),E(this,"handleSocialConnectSet",(e,t)=>{const n=Object.assign({},this.state.sharing);e===u.a.FACEBOOK?n.facebook=t:e===u.a.TWITTER&&(n.twitter=t),this.safeSetState({sharing:n})}),E(this,"handleNewBoardAnimationCompletion",()=>{const{dispatch:e,pin:t}=this.props;e(Object(g.d)(t.id))})}getModalTitle(e,t){return e?t?c.a._("Create section","modal title for create section pane","modal title for create section pane"):c.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t?c.a._("Choose section","modal title for choose section","modal title for choose section"):c.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board")}componentDidUpdate(e){const{boardWithSection:t,showCreate:n,pin:i,description:r}=this.props,o={};i===e.pin&&r===e.description||(o.pinDescription=i.description||r||""),n===e.showCreate&&t===e.boardWithSection||(o.modalTitle=this.getModalTitle(n,!!t)),Object.keys(o).length>0&&this.safeSetState(o)}componentWillUnmount(){this.unmounted=!0}render(){const{close:e,dismissModal:t,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:r,setModalTitle:o,updateDescription:a}=this,{boardSavedTo:s,displaySuccessAnimation:c,modalTitle:l,newPin:d}=this.state,{color:u,pin:h}=this.props;return this.props.children({boardSavedTo:s,color:u,dismissModal:t,displaySuccessAnimation:c,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:r,modalTitle:l,newPin:d,pin:h,setModalTitle:o,updateDescription:a})}}function R(e){const t=Object(_.c)(),n=Object(C.i)(),i=Object(p.a)(),o=Object(S.b)(),a=Object(r.useDispatch)(),s=Object(r.useSelector)(({advertiser:e})=>i.isAuth&&e&&e.owner_user_id!==i.id?e.id:void 0),c=Object(r.useSelector)(({experiences:e})=>e.eligibleExperiences[11]),l=Object(r.useSelector)(({experiences:e})=>e.eligibleExperiences[33]),d=Object(r.useSelector)(({history:e})=>e.previous);return Object(T.jsx)(I,{...e,advertiser_id:s,boardPickerStopwatch:t,dispatch:a,location:n,homeTakeoverExperience:c,previousHistory:d,repinTakeoverExperience:l,toastManagerContext:o,viewerUserId:i.isAuth?i.id:void 0})}},mvLR:function(e,t,n){function i(e){let t=!1;return{promise:new Promise((n,i)=>{e.then(e=>t?i({isCanceled:!0}):n(e),e=>i(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return i}))},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},"oCl/":function(e,t,n){var i=n("CH3K"),r=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},oRM1:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("zQfT");function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:o,resourceOptions:a,value:s}){const c=Object(r.a)({allowSearchOnMount:e,resourceName:o,resourceOptions:a,value:s});return Object(i.useEffect)(()=>{null!=c&&c.length&&n(c)},[c]),t||null}},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},"otv/":function(e,t,n){var i=n("nmnc"),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},pWkb:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("yaUg"),r=n("Ye/N");function o(e,t){const{isAbbreviated:n,skipSeconds:o}=t||{},a=36e5,s=864e5,c=new Date(e),l=(new Date).getTime()-c.getTime(),d=Math.floor(l/1e3),u=Math.floor(l/6e4),h=Math.floor(l/a),p=Math.floor(l/s),b=Math.floor(l/6048e5),m=Math.floor(l/31536e6);return m>0?n?Object(i.a)(r.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+m}):Object(i.a)(r.a.ngettext("{{ years }} year ago","{{ years }} years ago",m,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+m}):b>1?n?Object(i.a)(r.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+b}):Object(i.a)(r.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",b,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+b}):p>0?n?Object(i.a)(r.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+p}):Object(i.a)(r.a.ngettext("{{ days }} day ago","{{ days }} days ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+p}):h>0?n?Object(i.a)(r.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+h}):Object(i.a)(r.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+h}):u>0?n?Object(i.a)(r.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(i.a)(r.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):d>=0&&!o?n?Object(i.a)(r.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+d}):Object(i.a)(r.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",d,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+d}):r.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},ptXI:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=n("Ye/N"),o=n("7w6Q"),a=n("fepT"),s=n("U4JR"),c=(n("CgR/"),n("n6mq")),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={overlay:{__style:{backgroundColor:"#000"}}};class p extends i.PureComponent{constructor(...e){super(...e),d(this,"setSendButton",e=>{this.sendButton=e}),d(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),o.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),d(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(s.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),d(this,"handleExternalSend",()=>{o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),d(this,"renderReplayButton",()=>Object(l.jsx)(c.bb,{onTap:this.handleRestartVideo,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.v,{accessibilityLabel:r.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.u,{color:"white",overflow:"normal",size:"sm",children:r.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})),d(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(a.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.bb,{onTap:this.handleShareVideo,rounding:2,children:Object(l.jsx)(c.u,{color:"white",overflow:"normal",size:"sm",children:r.a._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})})}componentDidMount(){const{pinId:e}=this.props;o.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(s.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.x,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:Object(l.jsxs)(c.f,{alignItems:"center",justifyContent:"center",position:"absolute",direction:"column",children:[Object(l.jsx)(c.f,{children:this.renderShareButton()}),Object(l.jsx)(c.f,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.x,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:Object(l.jsx)(c.f,{children:Object(l.jsx)(c.bb,{onTap:i,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.v,{accessibilityLabel:r.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.u,{color:"white",overflow:"normal",size:"sm",children:r.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})},qAg2:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("Ye/N"),r=n("qpbZ");function o(e){const{alt_text:t,auto_alt_text:n}=e;return t?Object(r.b)(i.a._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):n?Object(r.b)(i.a._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:n}).join(""):null}},qD10:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("zwad"),r=n("fJfT"),o=n("EC67"),a=n("nKUr");function s({external:e,onClick:t,to:n,children:s,className:c,style:l,target:d,to:u}){const h=Object(o.h)(),p=Object(o.i)();return Object(a.jsx)("a",{className:c,href:u,onClick:o=>{const a=e||i.a.isOffsiteUrl(n);Object(r.b)({isExternalLink:a,event:o})||(o.nativeEvent.preventDefault(),null==t||t(o),n&&(a?Object(r.c)({href:n,location:p}):Object(r.d)({event:o,href:n,history:h})))},rel:e?"nofollow":"",style:l,target:d?"_blank":null,children:s})}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("VJm5"),r=n("TSYQ"),o=n.n(r),a=n("qAg2");var s={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1},c=n("n6mq"),l=n("nKUr");function d({onError:e,onLoad:t,pin:n}){var i,r,o,a;const{title:d="",dominant_color:u,images:h={}}=n,p="number"==typeof(null===(i=h["474x"])||void 0===i?void 0:i.width)&&"number"==typeof h["474x"].height&&h["474x"].width>h["474x"].height?h["736x"]:h["474x"];return Object(l.jsx)(c.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(l.jsx)(c.f,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.storyPinImage}},children:Object(l.jsx)(c.x,{alt:d,color:u,naturalHeight:null!==(r=null==p?void 0:p.height)&&void 0!==r?r:1,naturalWidth:null!==(o=null==p?void 0:p.width)&&void 0!==o?o:1,onError:e,onLoad:t,src:null!==(a=null==p?void 0:p.url)&&void 0!==a?a:"",fit:"cover"})})})}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:r,imageFit:s,lowResOnly:h,mediumResOnly:p,onError:b,onLoad:m,pin:f,saved:g=!1,animateGif:j})=>{var y,v,x;const{carousel_data:O,description:_="",dominant_color:S,id:w,images:C}=f,T=Object(a.a)(f)||_;if(O)return Object(l.jsx)(i.a,{onError:b,onLoad:m,highResOnly:r,lowResOnly:h,pinId:w});let E,P="",I=0,R=0;if(C){var k,A,D;let e=C["236x"];var L,M,N,B,F;if(r?e=C["736x"]||C.orig||C["474x"]||C["236x"]:p&&(e=C["474x"]||C.orig||C["236x"]),I=null===(k=e)||void 0===k?void 0:k.height,R=null===(A=e)||void 0===A?void 0:A.width,P=null===(D=e)||void 0===D?void 0:D.url,h||p||r)E=null!==(L=e)&&void 0!==L&&L.url?e.url+" 1x":"";else E=[(null===(M=C["236x"])||void 0===M?void 0:M.url)&&C["236x"].url+" 1x",(null===(N=C["474x"])||void 0===N?void 0:N.url)&&C["474x"].url+" 2x",(null===(B=C["736x"])||void 0===B?void 0:B.url)&&C["736x"].url+" 3x",(null===(F=C.orig)||void 0===F?void 0:F.url)&&C.orig.url+" 4x"].filter(Boolean).join(", ")}if(j){const e=Math.max(f.embed&&f.embed.width||0,236),t=Math.max(f.embed&&f.embed.height||0,236),n=f.embed?f.embed.src:"";n&&(I=t,R=e,P=n,E="")}return Object(l.jsx)(c.f,{minHeight:u,display:"flex",alignItems:"center",children:Object(l.jsx)(c.f,{flex:"grow",children:Object(l.jsx)("div",{className:o()({savedGradient:g}),children:f.story_pin_data_id?Object(l.jsx)(d,{pin:f,onError:b,onLoad:m}):Object(l.jsx)(c.f,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:Object(l.jsx)(c.x,{alt:T,color:"dominant"===n?S:n,fit:s,naturalHeight:null!==(y=I)&&void 0!==y?y:1,naturalWidth:null!==(v=R)&&void 0!==v?v:1,onError:b,onLoad:m,src:null!==(x=P)&&void 0!==x?x:"",srcSet:E})})})})})}},qtKf:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const i=(e,t)=>`${e}:${t||""}`,r=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],o=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},qyR9:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),r=n("jdx6"),o=n("gONw"),a=n("Ye/N"),s=n("gdcG"),c=n("n6mq"),l=n("nKUr");var d=Object(s.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:r,hoverHandlers:o,name:s,onClick:d}=e,u=s||t||a.a._("Create board");return Object(l.jsx)(c.bb,{onMouseEnter:o.onMouseOver,onMouseLeave:o.onMouseLeave,onTap:d,children:Object(l.jsxs)(c.f,{alignItems:"center",color:r&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%",children:[Object(l.jsx)(c.f,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(l.jsx)(c.v,{accessibilityLabel:a.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),s?Object(l.jsx)(c.f,{margin:1,children:Object(l.jsxs)(c.cb,{inline:!0,overflow:"normal",children:[" ",a.a._("Create: ")," "]})}):null,Object(l.jsxs)(c.cb,{align:"center",inline:!0,truncate:!0,weight:"bold",children:[" ",u," "]})]})})})),u=n("9QW3"),h=n("NdQN"),p=n("IBrh"),b=n("seP0");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),m(this,"state",{searchQuery:""}),m(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),m(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),m(this,"renderSectionHeader",(e,t)=>e.title?Object(l.jsxs)(c.f,{children:[t>0&&Object(l.jsx)(c.p,{}),Object(l.jsx)(c.f,{paddingX:3,paddingY:1,children:Object(l.jsx)(c.cb,{size:"md",children:e.title})})]}):null),m(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:o,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:c=!1}=n,d=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return Object(l.jsx)(r.a,{disabled:e.id===a&&c,isSection:u,isSelectMode:o,isWithinSectionPicker:c,item:e,saveState:d,searchQuery:s,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:r,onCreate:s,pinId:b}=this.props;if(r){const{searchQuery:r}=this.state,a=i(r);return this.indexManager=new u.a(a.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(l.jsxs)(c.f,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(l.jsxs)(c.f,{children:[Object(l.jsx)(c.f,{paddingX:3,marginBottom:4,marginTop:1,children:Object(l.jsx)(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:r})}),Object(l.jsx)(c.p,{})]}),Object(l.jsx)(p.a,{disabled:!!e,grow:!n&&!r,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:a}),Object(l.jsx)(c.p,{}),s&&Object(l.jsx)(d,{buttonLabel:t,hasHoverState:!0,name:r,onClick:()=>s(r)}),n&&s&&b&&Object(l.jsx)(o.a,{onBoardSelected:s,pinId:b})]})}return Object(l.jsx)(c.f,{paddingY:5,children:Object(l.jsx)(c.U,{accessibilityLabel:a.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function g(e){const t=Object(b.c)();return Object(l.jsx)(f,{...e,boardPickerStopwatch:t})}},rO08:function(e,t,n){n.r(t),n.d(t,"PinSaveButton",(function(){return S}));var i=n("q1tI"),r=n("/MKj"),o=n("Ye/N"),a=n("TgLd"),s=n("rYoy"),c=n("v/Q4"),l=n("dMCU"),d=n("2qKt"),u=n("n6mq"),h=n("0nTG"),p=n("lm6u"),b=n("B6Tf"),m=n("y9Ij"),f=n("seP0"),g=n("ANjH"),j=n("xjIv"),y=n("EC67"),v=n("nKUr");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=Object(i.lazy)(()=>n.e("FirstPinCreateCommon").then(n.bind(null,"kj35"))),_=[500639,11022];class S extends i.Component{constructor(e){super(e),x(this,"componentWillUnmount",()=>{this._repinCompletionPromise&&this._repinCompletionPromise.cancel()}),x(this,"setCompletionPromise",e=>{this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(()=>{this.handleRepinHideAndToggle()})}),x(this,"_repinCompletionPromise",null),x(this,"handleRepinHideAndToggle",()=>{this.setState({isRepinModalOpen:!1});const{onToggleModal:e}=this.props;e&&e(!1)}),x(this,"handleSaveButtonClick",({shouldStopEventPropagation:e=!0}={shouldStopEventPropagation:!0})=>this.props.authAction(t=>{t&&(t.preventDefault(),e&&t.stopPropagation());const{onClickCallback:n,onToggleModal:i,oneTapSave:r,boardPickerStopwatch:o,pathname:a}=this.props;n&&n(),r?r.saved||"function"!=typeof r.save||r.save():(o&&(o.start(),Object(f.b)(o,a)),i&&i(!0),this.setState({isRepinModalOpen:this.props.isAuth}))})),x(this,"handleUnsaved",()=>{const{unsave:e,pin:t}=this.props;e(t.id)}),x(this,"handleBoardEdited",({boardId:e,title:t,url:n})=>{const{pin:i,save:r}=this.props;r(i.id,e,t,n)}),x(this,"handleSavedButtonClick",()=>{const{history:e,pin:t,pinSavedInfo:n,viewerId:i}=this.props;let r;t.pinner.id===i?r=t.board.url:n&&(r=n.url),r&&e.push(r)}),x(this,"saveButtonRef",Object(i.createRef)()),x(this,"renderPinToBoardRepin",()=>{const{isCloseupPin:e,onToggleModal:t,pin:n}=this.props,{isFPE:i,isRepinModalOpen:r}=this.state;return r&&i?this.renderFPE():i?null:Object(v.jsx)(p.a,{action:"repin",additionalCreateFields:{is_stl_pin:Object(h.k)(n)},onClose:this.handleRepinHideAndToggle,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,onToggleModal:t,pin:n,children:({dismissModal:t,displaySuccessAnimation:i,handleAbort:o,handleNewBoardAnimationCompletion:a,handleSocialConnectSet:s,handleSaveToBoard:c,newPin:l,updateDescription:d,modalTitle:u,setModalTitle:h})=>Object(v.jsx)(b.c,{dismissModal:t,displaySuccessAnimation:i,handleAbort:o,handleNewBoardAnimationCompletion:a,handleSaveToBoard:c,handleSocialConnectSet:s,isCloseupPin:e,isInModal:!0,modalTitle:u,newPin:l,pin:n,pwtAuxData:{pin_create_method:"repin"},setModalTitle:h,shouldRenderContent:r,updateDescription:d})})});const{experience:t,showRepinOnInitialRender:n}=e;this.state={isFPE:!!t&&_.includes(t.experience_id),isRepinModalOpen:n||!1}}componentDidMount(){const{onMount:e}=this.props;e&&e()}isFPERemoved(e){const{isFPE:t}=this.state,{experience:n}=e;return t&&(!n||!_.includes(n.experience_id))}renderFPE(){const{experience:e,pin:t}=this.props;return Object(v.jsx)(a.b,{accessibilityModalLabel:o.a._("Create board","Accessible create board education modal label","Accessible create board education modal label"),heading:o.a._("Create board","Create board education modal label","Create board education modal label"),onDismiss:this.handleRepinHideAndToggle,size:"lg",children:Object(v.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{marginBottom:64}},children:Object(v.jsx)(s.a,{children:Object(v.jsx)(O,{anchorRef:this.saveButtonRef.current,experience:e,isInModal:!0,onClose:this.handleRepinHideAndToggle,pin:t,pwtAuxData:{pin_create_method:"repin"}})})})})}render(){const{iconOnly:e,isCloseupPin:t,oneTapSave:n,onToggleModal:r,pin:o,renderPinSaveTooltip:a,renderSavedStatus:s,size:c,variant:l,viewerId:d,viewParameter:h}=this.props,p=!!(o.pinner.id===d||o.saved||o.savedInfo||"controlled"===(null==n?void 0:n.type)&&n.saved),b="controlled"===(null==n?void 0:n.type)?"controlled":"classic";return Object(v.jsxs)(i.Fragment,{children:[Object(v.jsxs)(u.f,{ref:this.saveButtonRef,children:[t?Object(v.jsx)(m.a,{iconOnly:e,isCloseupPin:t,isPulsarDisplayed:!this.state.isRepinModalOpen,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!1}),onSavedClick:this.handleSavedButtonClick,saveButtonType:b,saved:p,size:c,variant:l}):Object(v.jsx)(m.b,{carouselData:o.carousel_data,iconOnly:e,isCloseupPin:t,onBoardUpdated:this.handleBoardEdited,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!0}),onSavedClick:this.handleSavedButtonClick,onToggleModal:r,onUnsaved:this.handleUnsaved,renderSavedStatus:s,saveButtonType:b,saved:p,savedInfo:o.savedInfo,size:c,variant:l,viewParameter:h}),this.renderPinToBoardRepin()]}),!!a&&this.saveButtonRef.current&&a(this.saveButtonRef.current)]})}}x(S,"defaultProps",{anchorString:""}),t.default=Object(g.compose)(Object(r.connect)((function({pins:e},{pin:t}){return{pinSavedInfo:e[t.id]&&e[t.id].savedInfo}}),(function(e){return{save:(t,n,i,r)=>e(Object(j.a)(t,n,i,r)),unsave:t=>e(Object(j.b)(t))}})),l.a,Object(d.a)(33),y.l)((function(e){const t=Object(f.c)(),{pathname:n}=Object(y.i)(),i=Object(c.a)(),r=i.isAuth?i.email:void 0,o=i.isAuth,a=i.isAuth?i.id:"";return Object(v.jsx)(S,{...e,boardPickerStopwatch:t,email:r,isAuth:o,viewerId:a,pathname:n})}))},rVUJ:function(e,t,n){var i,r,o,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),l=n("n6mq"),d=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return Object(d.jsx)(c.a,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:r}=this.props;if(!n)return null;const{cancelButtonText:o,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=o&&i&&a&&r;return Object(d.jsx)(l.L,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(d.jsxs)(l.f,{maxWidth:284,padding:3,width:"max-content",children:[Object(d.jsx)(l.cb,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(d.jsxs)(l.f,{marginTop:2,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.f,{column:6,marginEnd:1,children:Object(d.jsx)(l.g,{color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(o)})}),Object(d.jsx)(l.f,{column:6,children:Object(d.jsx)(l.g,{color:"white",size:"md",text:String(a),onClick:r})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}o={overflow:"breakWord"},(r="defaultProps")in(i=u)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o;var h=n("NdXn"),p=n("AAEI"),b=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:r,isHidden:o,onCompleteClick:c,overflow:m,zIndex:f})=>{var g;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:r}),y=Object(p.a)(null==j?void 0:j.placement_id),v=(null==j||null===(g=j.display_data)||void 0===g?void 0:g.delay)||0,[x,O]=Object(a.useState)(!!v);if(Object(a.useEffect)(()=>{if(v>0&&x){const e=setTimeout(()=>{O(!1)});return()=>clearTimeout(e)}return()=>{}},[v,x]),Object(a.useEffect)(()=>{!x&&j&&y.viewExperience(j.placement_id,j.experience_id)},[x,j]),!j||x||o)return a.Children.only(n);const _=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(b.a)(h.a,!0)(t)})(j),S=()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&y.completeExperience(j.placement_id,j.experience_id)};return Object(d.jsxs)(l.f,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(d.jsx)(l.bb,{onMouseEnter:S,onTap:()=>{c&&c(),_.skipComplete||y.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(d.jsx)(u,{anchor:t||null,handlePulsarCompleteOnHover:S,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),y.dismissExperience(j.placement_id,j.experience_id)},overflow:m,pulserOnly:!!_.pulserOnly,tooltip:_.tooltip,tooltipOnly:!!_.tooltipOnly,zIndex:f})]})}},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"j",(function(){return O}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",l="Weebly",d="Tealium",u="Magento",h="Squarespace",p="Ecwid",b="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[a]:m.SHOPIFY,[c]:m.WOO_COMMERCE,[s]:m.WORDPRESS,[h]:m.SQUARESPACE,[l]:m.WEEBLY,[d]:m.TEALIUM,[u]:m.MAGENTO,[p]:m.ECWID,[b]:m.BIG_COMMERCE},g={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},v={ATTRIBUTION_DESTINATION:"attributiondestination",ATTRIBUTION_EXPIRY:"attributionexpiry",ATTRIBUTION_REPORT_TO:"attributionreportto",ATTRIBUTION_SOURCE_EVENT_ID:"attributionsourceeventid"},x=2592e6,O={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination"}},rsy7:function(e,t,n){function i(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}n.d(t,"a",(function(){return i}))},sErn:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("La7j");function r(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:r}=e;return{experiments:new i.a(t,n,r)}}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("FZ8N"),r=n("F4HH");const{Provider:o,useHook:a}=Object(r.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.b?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=o,l=a},udob:function(e,t,n){var i=n("LqyK"),r=n("d7ng"),o=n("4dcN"),a=n("zwad"),s=n("mBfy");const c={};c.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),s.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var l=c;const d={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){o.a.trackEvent("share_line","click");const t=d._getWindowUrl(e.share_path,e.share_text);l.open(t,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://social-plugins.line.me/lineit/share",{url:e?Object(r.a)(e):void 0,text:t})};var u=d,h=n("eOdZ");const p={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";o.a.trackEvent(t,"click");const n=p._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(r.a)(e):void 0,text:t||void 0})};var b=p;const m={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return h.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:n,invite_channel:i},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>m.createShareInviteData(e).then(t=>(m._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return h.a.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}{const r=e.object_id;return h.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}},logShareInvite(e,t){t&&m._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>m.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&m._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then(n=>{const i=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),i&&b.openDialog({tweet_path:i,tweet_text:o}),m._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return m.createShareInviteData(e).then(n=>{const i=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),o||(o=n.title),i&&u.openDialog({share_path:i,share_text:o}),m._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>m.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&m._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=m},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function r({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:r,scaledHeight:o}){return{x:e/r,y:t/o,w:n/r,h:i/o}}function o({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:r,scaledHeight:o}){return{h:Math.floor(i*o),w:Math.floor(n*r),x:Math.floor(e*r),y:Math.floor(t*o)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:r,searchQuery:o,entrySource:a,trafficSource:s}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push("x="+e,"y="+t,"w="+n,"h="+i),r&&c.push("cropSource="+r),a&&c.push("entrySource="+a),o&&c.push("q="+o),s&&"unknown"!==s&&c.push("rs="+s);return c.length?"?"+c.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,pinId:r,searchQuery:o,trafficSource:s,view:c}){return`/pin/${r}/${i?"related-products":"visual-search"}/${i||"products"!==c?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:s,searchQuery:o})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},ujsJ:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),r=n("nKUr");function o(e){return Object(r.jsx)(i.Z,{...e})}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("jHGc"),r=n("n6mq"),o=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:l,variant:d,viewParameter:u,shouldUseLegoStyles:h}=e,p="pin"===d?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(o.jsxs)(r.f,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===d?-1:void 0,marginEnd:"pin"===d?-1:void 0,paddingX:"closeup"!==d||h?void 0:2,width:"closeup"===d?"100%":void 0,height:"100%",children:[t&&Object(o.jsx)(r.f,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(o.jsx)(r.f,{paddingX:1,flex:"none",marginStart:"auto",children:Object(o.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:p,shouldUseLegoStyles:h,useLegoStyles:"pin"===d})})]})}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),r=n("Ye/N"),o=n("w70y"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function l({pin:e}){const{data:t}=Object(o.a)({name:"PinSaveStatusResource",options:{id:e.id},allowStale:!1});return t&&t.pinned_to_board?Object(c.jsxs)(s.f,{children:[Object(c.jsx)(s.f,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:Object(c.jsx)(s.cb,{align:"center",color:"white",size:"md",weight:"bold",children:Object(a.b)(r.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" ")})}),Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",marginTop:-3,children:Object(c.jsx)(s.v,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var d=n("P6kd"),u=n("g/XF"),h=n("U4JR");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,m=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class f extends i.Component{constructor(...e){super(...e),p(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),p(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(b,"g");let i="";if(t<e.length){let r=n.exec(e),o=n.lastIndex<t;for(;r&&o;)r=n.exec(e),o=n.lastIndex<t;const a=!!r&&b.test(e.slice(r.index,t));o=!!r&&r.index<t,r&&a&&o&&(i=r[0])}else{const t=m.exec(e);i=t?t[0]:""}this.updateDescription(e);const r=b.test(i),o=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:o,description:e,hashtagQuery:i,isHashtagFlyoutOpen:r,flyoutOpened:this.state.flyoutOpened||r})}),p(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),p(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),p(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),p(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),p(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(h.b)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,i=Number(n+this.state.hashtagQuery.length),r=this.state.description.slice(0,n)+e+" "+this.state.description.slice(i);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),p(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:r,editing:o,flyoutOpened:a,hashtagQuery:h,isHashtagFlyoutOpen:p}=this.state,{images:b,link:m}=n,f=b&&b["236x"],g=f&&f.url||n.image_base64;return Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:a&&o?{transform:"translateY(-75px)"}:{}},children:[Object(c.jsxs)(s.f,{display:"flex",direction:"column",alignItems:"center",children:[n&&n.id&&Object(c.jsx)(l,{pin:n}),Object(c.jsx)(s.f,{paddingY:t?9:0,width:240,children:Object(c.jsx)(s.f,{ref:i,maxHeight:a&&o?220:335,rounding:4,overflow:"hidden",children:g?Object(c.jsx)(s.x,{alt:r,src:g,naturalHeight:(null==f?void 0:f.height)||1,naturalWidth:(null==f?void 0:f.width)||1}):!!m&&Object(c.jsx)(u.a,{color:e||"",description:r,url:m})})})]}),this.anchor&&p?Object(c.jsx)(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:o,query:h}):null]})}}},vZlu:function(e,t,n){n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function r(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function c(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function l(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},vh5K:function(e,t,n){n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mwIZ"),r=n.n(i);function o(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&o(i)?i:null};function s(e){return r()(e,["display_data","anchor"])}function c(e,t,n,i=!1,r=!1){if(i&&e&&t)return`${e}%3A${t}`;const o=n[e];if(o){if(o.experience_id===t)return o.id.replace(":","%3A")}else if(r&&e&&t)return`${e}%3A${t}`;return null}function l(e,t){t&&8===t.type&&(e[s(t)]=t)}},"w/wX":function(e,t,n){var i=n("QqLw"),r=n("ExA7");e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),r=n("7w6Q"),o=n("eOdZ"),a=n("U4JR"),s=n("n6mq"),c=n("nKUr");function l(e){const{identifier:t,onUndoHide:n,isGroupChat:l}=e,d=async()=>{const i=o.a.create("ShareSuggestionsHideResource",{user_identifier:t});await i.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(a.b)(101,{component:t,element:n}),r.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(c.jsxs)(s.f,{display:"flex",children:[Object(c.jsx)(s.f,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(c.jsx)(s.cb,{inline:!0,color:"gray",children:l?i.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):i.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(c.jsx)(s.f,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(c.jsx)(s.g,{onClick:({event:e})=>{e.stopPropagation(),d()},text:i.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})})]})}},wrZu:function(e,t,n){var i=n("+K+b"),r=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},xjIv:function(e,t,n){function i(e,t,n,i,r){return{type:"PIN_SAVE",payload:{pinId:e,boardId:t,title:n,url:i,localPinId:r}}}function r(e){return{type:"PIN_UNSAVE",payload:{pinId:e}}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:a}}}function r(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},"xs/l":function(e,t,n){var i=n("TYy9"),r=n("Ioao"),o=n("wclG");e.exports=function(e){return o(r(e,void 0,i),e+"")}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),r=(n("PNKV"),n("TSYQ")),o=n.n(r),a=n("rVUJ"),s=n("Ye/N"),c=n("uyxo"),l=n("n6mq"),d=n("nKUr");const u={sm:32,md:40,lg:48},h=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:r,onClick:a,onSavedClick:h,onToggleModal:p,onUnsaved:b,renderSavedStatus:m,saveButtonType:f="classic",saved:g,savedInfo:j,size:y="md",variant:v="classic",viewParameter:x},O)=>g&&"controlled"===f?Object(d.jsx)(l.g,{disabled:!0,text:s.a._("Saved"),size:"sm"}):!i&&j&&m&&b&&r&&"classic"===f?Object(d.jsx)(c.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:b,onEditSubmit:r,onToggleModal:p,pinId:j.localPinId,variant:"pin",viewParameter:x,children:m()}):g&&"classic"===f&&i?Object(d.jsx)(l.g,{accessibilityLabel:s.a._("Saved button","saveButton.saved.label","Saved state label on save button"),text:s.a._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:h}):n?Object(d.jsx)("div",{ref:O,"data-test-id":"SaveButton",children:Object(d.jsx)(l.w,{accessibilityLabel:s.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})}):Object(d.jsx)(l.f,{display:i?void 0:"flex",justifyContent:"end",children:Object(d.jsx)("div",{ref:O,className:o()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===v}),"data-test-id":"SaveButton",onClick:t?void 0:a,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),a(e))},role:"button",tabIndex:"0",children:Object(d.jsx)("div",{className:o()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===v}),children:Object(d.jsx)(l.f,{alignItems:"center",minHeight:u[y],dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(d.jsx)(l.cb,{color:t?"gray":"white",size:"lego"===v?"sm":"md",weight:"bold",children:Object(d.jsx)("span",{className:o()("SaveButton__label",{"SaveButton__label--lego":"lego"===v}),children:s.a._("Save","Pin save button label","Pin save button label")})})})})})}))),p=({isPulsarDisplayed:e,...t})=>{const[n,r]=Object(i.useState)(null),o=Object(i.useCallback)(e=>{r(e)},[n]);return Object(d.jsx)(a.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(d.jsx)(h,{ref:o,...t})})};t.b=h},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("Ye/N"),r=n("US8k"),o=n("n6mq"),a=n("nKUr");function s({duration:e}){return Object(a.jsxs)(o.f,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(o.v,{accessibilityLabel:i.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(o.f,{marginStart:1,children:Object(a.jsx)(o.cb,{color:"white",size:"sm",truncate:!0,children:Object(r.a)(e)})})]})}},yjg8:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"j",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return g}));const i=236,r=2*i/3,o=24,a=2,s=125,c=16,l=14,d=16,u=e=>e||d,h=900,p=12,b=16,m=24,f=(e=!1,t=!1)=>e?t?b:p:m,g=(e,t,n,i,r=l)=>{const o=e+r;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${i}\n}\n`}},ynlw:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("PzwE"),r=n("Y8Sn");function o(e){const{access:t,attribution:n,embed:o,is_eligible_for_web_closeup:a,rich_summary:s,sponsorship:c,story_pin_data_id:l,videos:d}=e,u={isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};Object(i.a)(e)&&(u.isCarousel=!0),a&&(u.isOneTap=!0),Object(r.i)(d)&&(u.isVideo=!0);const h=o||n&&n.embed||null;return h&&"gif"===h.type&&(u.isGif=!0),s&&"product"===s.type_name&&(u.isProduct=!0),s&&"recipe"===s.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(t||[]).includes("write")&&(u.isOwnPin=!0),l&&(u.isStoryPin=!0),c&&(u.isSponsored=!0),u}},zEVN:function(e,t,n){var i=n("Gi0A"),r=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?r(a):i;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI");const r=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new r(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=o,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.a.create(e,n),r=new a,o=()=>{i.abort()};return async function(e){const t=r.get(e);if(t){const n=t.items;if(n&&n.length){o();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;o()}const{bookmarks:a,...s}=i.options||{};i.options={...s,term:e};const c=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,l=null==c?void 0:c.items,d=(null==c?void 0:c.hint)||{},u={hint:d,items:l};return r.set(e,u),{term:e,items:l,hint:d}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:r}){const o=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,l]=Object(i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=r&&(e||o.current))if(r in a.current)l(a.current[r]);else try{const e=await d(r);if(e){const{items:t}=e;a.current[r]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()},[r]),s}},zXAL:function(e,t,n){var i=n("/MKj"),r=n("peh1"),o=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(r.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(i.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:o.a,dismissExperience:o.b,fetchAllExperiences:o.d,fetchAllExperiencesMulti:o.f,fetchExperienceForPlacement:o.c,triggerExperimentsForPlacement:o.k,viewExperience:o.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zir5:function(e,t,n){n.d(t,"a",(function(){return r}));const i=e=>e.startsWith("enabled")||e.startsWith("employee");class r{constructor(e={},t={},n=!1){var i,r,o;o=!1,(r="useBatching")in(i=this)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},zoYe:function(e,t,n){var i=n("nmnc"),r=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}}},0,[32,68,102,146,"PinSaveButtonCommon",297,"PinBetterSaveCommon","PinRepEditButtonCommon",481,"ChangeBoardModalCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinSaveButtonCommon-1fbe128309aa10b8868d.mjs.map